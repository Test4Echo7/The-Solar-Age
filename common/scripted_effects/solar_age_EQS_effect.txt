EQS_add_GRD_cores = {
    ANG = { add_to_ROOT_potential_cores = yes }
    KAT = { add_to_ROOT_potential_cores = yes }
    YAL = { add_to_ROOT_potential_cores = yes }
    ROU = { add_to_ROOT_potential_cores = yes }
    FEA = { add_to_ROOT_potential_cores = yes }
    STW = { add_to_ROOT_potential_cores = yes }
    BRZ = { add_to_ROOT_potential_cores = yes }
    PYT = { add_to_ROOT_potential_cores = yes }
    FAT = { add_to_ROOT_potential_cores = yes }
    MNC = { add_to_ROOT_potential_cores = yes }
    HAU = { add_to_ROOT_potential_cores = yes }
    SRS = { add_to_ROOT_potential_cores = yes }
    VED = { add_to_ROOT_potential_cores = yes }
    LAK = { add_to_ROOT_potential_cores = yes }
    ERI = { add_to_ROOT_potential_cores = yes }
    EYR = { add_to_ROOT_potential_cores = yes }
    AVI = { add_to_ROOT_potential_cores = yes }
    BAN = { add_to_ROOT_potential_cores = yes }
    BOI = { add_to_ROOT_potential_cores = yes }
    FLO = { add_to_ROOT_potential_cores = yes }
    HEL = { add_to_ROOT_potential_cores = yes }
    AET = { add_to_ROOT_potential_cores = yes }
    TRD = { add_to_ROOT_potential_cores = yes }
    FEZ = { add_to_ROOT_potential_cores = yes }
    POM = { add_to_ROOT_potential_cores = yes }
    JRR = { add_to_ROOT_potential_cores = yes }
    VIN = { add_to_ROOT_potential_cores = yes }
    JER = { add_to_ROOT_potential_cores = yes }
    JEB = { add_to_ROOT_potential_cores = yes }
    JFT = { add_to_ROOT_potential_cores = yes }
    ARA = { add_to_ROOT_potential_cores = yes }
    FRN = { add_to_ROOT_potential_cores = yes }
    TAL = { add_to_ROOT_potential_cores = yes }
    WNG = { add_to_ROOT_potential_cores = yes }
    FAL = { add_to_ROOT_potential_cores = yes }
    SIC = { add_to_ROOT_potential_cores = yes }
    CYA = { add_to_ROOT_potential_cores = yes }
    #HLQ = { add_to_ROOT_potential_cores = yes }
    #LNS = { add_to_ROOT_potential_cores = yes }
    LUS = { add_to_ROOT_potential_cores = yes }
    GRW = { add_to_ROOT_potential_cores = yes }
    BRF = { add_to_ROOT_potential_cores = yes }
    GRY = { add_to_ROOT_potential_cores = yes }
    GRU = { add_to_ROOT_potential_cores = yes }
    LSC = { add_to_ROOT_potential_cores = yes }
    LSM = { add_to_ROOT_potential_cores = yes }
    JES = { add_to_ROOT_potential_cores = yes }
}
EQS_remove_science_ideas = {
    if = {
        limit = { has_idea = unicorn_academy }
        remove_ideas = unicorn_academy
    }
    else_if = {
        limit = { has_idea = unicorn_academy1 }
        remove_ideas = unicorn_academy1
    }
    else_if = {
        limit = { has_idea = unicorn_academy2 }
        remove_ideas = unicorn_academy2
    }
    else_if = {
        limit = { has_idea = unicorn_academy3 }
        remove_ideas = unicorn_academy3
    }
    else_if = {
        limit = { has_idea = unicorn_academy4 }
        remove_ideas = unicorn_academy4
    }
    if = {
        limit = { has_idea = magical_trainingidea }
        remove_ideas = magical_trainingidea
    }
}
EQS_update_lost_soldier_corpses = {
    #Gets temporary variable of current casualties, then subtracts any viable corpses that are currently waiting to be used, and also subtracts any used corpses
    #Should work out to EQS_current_casualties = X, EQS_used_corpses_var = Y; X = Y + (X - Y)
    set_temp_variable = { EQS_current_casualties = casualties }
    if = {
        limit = { check_variable = { EQS_used_corpses_var > 0 } }
        subtract_from_temp_variable = { EQS_current_casualties = EQS_used_corpses_var }
    }
    set_variable = { EQS_viable_corpse_var = EQS_current_casualties }
}
#Will adjust to be less extreme later
EQS_troll_chiropterra = {
    custom_effect_tooltip = SOL_BAT_puppet_tt0
    custom_effect_tooltip = BAR_viira_puppet_break
    custom_effect_tooltip = SOL_BAT_puppet_tt1
    713 = {
        add_manpower = -78932
        set_state_category = rural
    }
    set_province_name = {
        id = 18601
        name =  EQS_SOL_port
    }
    set_capital = {
        state = 713
        remember_old_capital = no
    }
    712 = {
        add_manpower = -392831
        set_state_category = pastoral
    }
    custom_effect_tooltip = BAR_viira_puppet_genocide2_5
    custom_effect_tooltip = EQS_SOL_BAT_GAMER1
    add_victory_points = {
        province = 18570
        value = -19
    }
    set_province_name = {
        id = 18570
        name = EQS_SOL_batcityburnt
    }
    690 = {
        add_manpower = -63739
        set_state_category = pastoral
    }
    custom_effect_tooltip = EQS_SOL_BAT_GAMER2
    add_victory_points = {
        province = 18583
        value = -3
    }
    689 = {
        add_manpower = -125833
        set_state_category = wasteland
    }
    custom_effect_tooltip = EQS_SOL_BAT_GAMER3
    add_victory_points = {
        province = 18526
        value = -5
    }
    691 = {
        add_manpower = -175823
        set_state_category = wasteland
    }
    custom_effect_tooltip = EQS_SOL_BAT_GAMER4
    add_victory_points = {
        province = 18499
        value = -3
    }
    815 = {
        add_manpower = -58392
        set_state_category = wasteland
    }
    custom_effect_tooltip = EQS_SOL_BAT_GAMER5
    add_victory_points = {
        province = 18477
        value = -3
    }
    custom_effect_tooltip = BAR_viira_puppet_break
    custom_effect_tooltip = SOL_BAT_puppet_tt3
    show_ideas_tooltip = SOL_BAT_order
    hidden_effect = {
    #712 = {
    #        remove_building = {
    #            type = arms_factory
    #            level = 100
    #        }
    #        remove_building = {
    #            type = infrastructure
    #            level = 5
    #        }
    #        remove_building = {
    #            type = dockyard
    #            level = 100
    #        }
    #        remove_building = {
    #            type = industrial_complex
    #            level = 100
    #        }
    #}
    #712 = {
    #        remove_building = {
    #            type = arms_factory
    #            level = 100
    #        }
    #        remove_building = {
    #            type = infrastructure
    #            level = 5
    #        }
    #        remove_building = {
    #            type = dockyard
    #            level = 100
    #        }
    #        remove_building = {
    #            type = industrial_complex
    #            level = 100
    #        }
    #}
    create_dynamic_country = {
        original_tag = BAT
        set_country_flag = BAT_SOLAR
        set_politics = {
            ruling_party = fascism
            elections_allowed = no
        }
        set_cosmetic_tag = BAT_SOL
        set_research_slots = 3
        set_AI_strategies_on_every_possible_country_delayed = yes
    }
    EQS_SOL_batcouncil = {
        set_nationality = BTS
    }
    BTS = {
        add_ideas = {
            pony_race
            modern_society
            proper_science_base
            no_lack_of_scientists
            no_poverty
        }
            add_ideas = SOL_BAT_order
            load_focus_tree = barrad_focus_viira_bonus
            set_party_name = {
                ideology = fascism
                name = BAT_SOL_PUPPET_fash
                long_name = BAT_SOL_PUPPET_fash_long
            }
            add_country_leader_role = {
                character = EQS_SOL_batcouncil
                promote_leader = yes

                country_leader = {
                    expire = "1965.1.1"
                    ideology = falangism
                    traits = { }
                }
            }
            transfer_state = 713
            transfer_state = 712
            transfer_state = 690
            transfer_state = 691
            transfer_state = 689
            transfer_state = 815
            add_state_core = 713
            add_state_core = 712
            add_state_core = 690
            add_state_core = 691
            add_state_core = 689
            add_state_core = 815
        }
        set_autonomy = {
            target = BTS
            autonomous_state = autonomy_reichskommissariat
        }
    }
}
EQS_get_flagship_bb = {
    ###Daybreak, but less crazy###
    if = {
        limit = {
            has_tech = semi_modern_ship_hull_super_heavy
        }
        if = {
            limit = {
                has_tech = antiair_c
                has_tech = advanced_heavy_battery
                has_tech = monopulse_radar
                has_tech = semi_modern_fire_control_system
                has_tech = improved_airplane_launcher
            }
            create_equipment_variant = {
                name = "Daybreak Class"
                type = ship_hull_super_heavy_2
                name_group = SOL_BB_BC_HISTORICAL
                parent_version = 0
                design_team = mio:EQS_baltimare_organization
                modules = {
                    fixed_ship_battery_slot = ship_super_heavy_battery_2
                    fixed_ship_anti_air_slot = ship_anti_air_5
                    fixed_ship_fire_control_system_slot = ship_fire_control_system_4
                    fixed_ship_radar_slot = ship_radar_4
                    fixed_ship_engine_slot = heavy_ship_engine_5
                    fixed_ship_secondaries_slot = ship_secondaries_2
                    fixed_ship_armor_slot = ship_armor_shbb_2
                    front_1_custom_slot = ship_super_heavy_battery_2
                    front_2_custom_slot = ship_super_heavy_battery_2
                    mid_1_custom_slot = ship_anti_air_5
                    mid_2_custom_slot = ship_secondaries_2
                    mid_3_custom_slot = ship_anti_air_5
                    rear_1_custom_slot = ship_airplane_launcher_2
                    rear_2_custom_slot = ship_airplane_launcher_2
                }
            }
        }
        else_if = {
            limit = {
                has_tech = antiair4
                has_tech = phased_array
                has_tech = advanced_fire_control_system
                has_tech = improved_airplane_launcher
            }
            create_equipment_variant = {
                name = "Daybreak Class"
                type = ship_hull_super_heavy_2
                name_group = SOL_BB_BC_HISTORICAL
                parent_version = 0
                design_team = mio:EQS_baltimare_organization
                modules = {
                    fixed_ship_battery_slot = ship_super_heavy_battery_1
                    fixed_ship_anti_air_slot = ship_anti_air_4
                    fixed_ship_fire_control_system_slot = ship_fire_control_system_3
                    fixed_ship_radar_slot = ship_radar_3
                    fixed_ship_engine_slot = heavy_ship_engine_3
                    fixed_ship_secondaries_slot = ship_secondaries_2
                    fixed_ship_armor_slot = ship_armor_shbb
                    front_1_custom_slot = ship_super_heavy_battery_1
                    front_2_custom_slot = ship_super_heavy_battery_1
                    mid_1_custom_slot = ship_anti_air_4
                    mid_2_custom_slot = ship_secondaries_2
                    mid_3_custom_slot = ship_anti_air_4
                    rear_1_custom_slot = ship_airplane_launcher_2
                    rear_2_custom_slot = ship_airplane_launcher_2
                }
            }
        }
        else = {
            if = {
                limit = {
                    NOT = { has_tech = cavity_magnatron }
                }
                set_technology = {
                    cavity_magnatron = 1
                    popup = no
                }
            }
            create_equipment_variant = {
                name = "Daybreak Class"
                type = ship_hull_super_heavy_2
                name_group = SOL_BB_BC_HISTORICAL
                parent_version = 0
                design_team = mio:EQS_baltimare_organization
                modules = {
                    fixed_ship_battery_slot = ship_super_heavy_battery_1
                    fixed_ship_anti_air_slot = ship_anti_air_3
                    fixed_ship_fire_control_system_slot = ship_fire_control_system_1
                    fixed_ship_radar_slot = ship_radar_3
                    fixed_ship_engine_slot = heavy_ship_engine_3
                    fixed_ship_secondaries_slot = ship_secondaries_2
                    fixed_ship_armor_slot = ship_armor_shbb_2
                    front_1_custom_slot = ship_super_heavy_battery_1
                    front_2_custom_slot = ship_super_heavy_battery_1
                    mid_1_custom_slot = ship_anti_air_3
                    mid_2_custom_slot = ship_secondaries_2
                    mid_3_custom_slot = ship_anti_air_3
                    rear_1_custom_slot = ship_airplane_launcher_1
                    rear_2_custom_slot = ship_airplane_launcher_1
                }
            }
        }
        add_equipment_production = {
            amount = 1
            progress = 0.33
            requested_factories = 10
            industrial_manufacturer = mio:EQS_baltimare_organization
            equipment = {
                type = ship_hull_super_heavy_2
                version_name = "Daybreak Class"
                creator = EQS
            }
            name = "HMS Daybreak"
        }
    }
    else = {
        if = {
            limit = {
                has_tech = antiair4
                has_tech = phased_array
                has_tech = advanced_fire_control_system
                has_tech = improved_airplane_launcher
            }
            create_equipment_variant = {
                name = "Daybreak Class"
                type = ship_hull_super_heavy_1
                name_group = SOL_BB_BC_HISTORICAL
                parent_version = 0
                design_team = mio:EQS_baltimare_organization
                modules = {
                    fixed_ship_battery_slot = ship_super_heavy_battery_1
                    fixed_ship_anti_air_slot = ship_anti_air_4
                    fixed_ship_fire_control_system_slot = ship_fire_control_system_3
                    fixed_ship_radar_slot = ship_radar_3
                    fixed_ship_engine_slot = heavy_ship_engine_3
                    fixed_ship_secondaries_slot = ship_secondaries_2
                    fixed_ship_armor_slot = ship_armor_shbb
                    front_1_custom_slot = ship_super_heavy_battery_1
                    front_2_custom_slot = ship_super_heavy_battery_1
                    mid_1_custom_slot = ship_anti_air_4
                    mid_2_custom_slot = ship_secondaries_2
                    mid_3_custom_slot = ship_anti_air_4
                    rear_1_custom_slot = ship_airplane_launcher_2
                    rear_2_custom_slot = ship_airplane_launcher_2
                }
            }
        }
        else_if = {
            limit = {
                has_tech = antiair2
                has_tech = cavity_magnatron
                has_tech = improved_fire_control_system
                has_tech = improved_airplane_launcher
            }
            create_equipment_variant = {
                name = "Daybreak Class"
                type = ship_hull_super_heavy_1
                name_group = SOL_BB_BC_HISTORICAL
                parent_version = 0
                design_team = mio:EQS_baltimare_organization
                modules = {
                    fixed_ship_battery_slot = ship_super_heavy_battery_1
                    fixed_ship_anti_air_slot = ship_anti_air_3
                    fixed_ship_fire_control_system_slot = ship_fire_control_system_2
                    fixed_ship_radar_slot = ship_radar_2
                    fixed_ship_engine_slot = heavy_ship_engine_3
                    fixed_ship_secondaries_slot = ship_secondaries_2
                    fixed_ship_armor_slot = ship_armor_shbb
                    front_1_custom_slot = ship_super_heavy_battery_1
                    front_2_custom_slot = ship_super_heavy_battery_1
                    mid_1_custom_slot = ship_anti_air_3
                    mid_2_custom_slot = ship_secondaries_2
                    mid_3_custom_slot = ship_anti_air_3
                    rear_1_custom_slot = ship_airplane_launcher_1
                    rear_2_custom_slot = ship_airplane_launcher_1
                }
            }
        }
        else = {
            if = {
                limit = { NOT = { has_tech = cavity_magnatron } }
                set_technology = {
                    cavity_magnatron = 1
                    popup = no
                }
            }
            create_equipment_variant = {
                name = "Daybreak Class"
                type = ship_hull_super_heavy_1
                name_group = SOL_BB_BC_HISTORICAL
                parent_version = 0
                design_team = mio:EQS_baltimare_organization
                modules = {
                    fixed_ship_battery_slot = ship_super_heavy_battery_1
                    fixed_ship_anti_air_slot = ship_anti_air_2
                    fixed_ship_fire_control_system_slot = ship_fire_control_system_1
                    fixed_ship_radar_slot = ship_radar_2
                    fixed_ship_engine_slot = heavy_ship_engine_3
                    fixed_ship_secondaries_slot = ship_secondaries_2
                    fixed_ship_armor_slot = ship_armor_shbb
                    front_1_custom_slot = ship_super_heavy_battery_1
                    front_2_custom_slot = ship_super_heavy_battery_1
                    mid_1_custom_slot = ship_anti_air_2
                    mid_2_custom_slot = ship_secondaries_2
                    mid_3_custom_slot = ship_anti_air_2
                    rear_1_custom_slot = ship_airplane_launcher_1
                    rear_2_custom_slot = ship_airplane_launcher_1
                }
            }
        }
        add_equipment_production = {
            amount = 1
            progress = 0.33
            requested_factories = 10
            industrial_manufacturer = mio:EQS_baltimare_organization
            equipment = {
                type = ship_hull_super_heavy_1
                version_name = "Daybreak Class"
                creator = EQS
            }
            name = "HMS Daybreak"
        }
    }
}
EQS_get_flagship_bc = {
    ###Daybreak, but less crazy###
    if = {
        limit = {
            has_tech = semi_modern_ship_hull_heavy
        }
        if = {
            limit = {
                has_tech = antiair_c
                has_tech = advanced_heavy_battery
                has_tech = monopulse_radar
                has_tech = semi_modern_fire_control_system
                has_tech = improved_airplane_launcher
            }
            create_equipment_variant = {
                name = "Daybreak Class"
                type = ship_hull_heavy_5
                name_group = SOL_BB_BC_HISTORICAL
                parent_version = 0
                design_team = mio:EQS_baltimare_organization
                modules = {
                    fixed_ship_battery_slot = ship_heavy_battery_4
                    fixed_ship_anti_air_slot = ship_anti_air_5
                    fixed_ship_fire_control_system_slot = ship_fire_control_system_4
                    fixed_ship_radar_slot = ship_radar_4
                    fixed_ship_engine_slot = heavy_ship_engine_5
                    fixed_ship_secondaries_slot = ship_secondaries_2
                    fixed_ship_armor_slot = ship_armor_bc_2
                    front_1_custom_slot = ship_anti_air_5
                    mid_1_custom_slot = ship_airplane_launcher_2
                    mid_2_custom_slot = ship_airplane_launcher_2
                    mid_3_custom_slot = ship_secondaries_2
                    rear_1_custom_slot = ship_heavy_battery_4
                }
            }
        }
        else_if = {
            limit = {
                has_tech = antiair4
                has_tech = phased_array
                has_tech = advanced_fire_control_system
                has_tech = improved_airplane_launcher
                has_tech = improved_heavy_battery
            }
            create_equipment_variant = {
                name = "Daybreak Class"
                type = ship_hull_heavy_5
                name_group = SOL_BB_BC_HISTORICAL
                parent_version = 0
                design_team = mio:EQS_baltimare_organization
                modules = {
                    fixed_ship_battery_slot = ship_heavy_battery_3
                    fixed_ship_anti_air_slot = ship_anti_air_4
                    fixed_ship_fire_control_system_slot = ship_fire_control_system_3
                    fixed_ship_radar_slot = ship_radar_3
                    fixed_ship_engine_slot = heavy_ship_engine_5
                    fixed_ship_secondaries_slot = ship_secondaries_2
                    fixed_ship_armor_slot = ship_armor_bc_2
                    front_1_custom_slot = ship_anti_air_4
                    mid_1_custom_slot = ship_airplane_launcher_2
                    mid_2_custom_slot = ship_airplane_launcher_2
                    mid_3_custom_slot = ship_secondaries_2
                    rear_1_custom_slot = ship_heavy_battery_3
                }
            }
        }
        else = {
            if = {
                limit = { NOT = { has_tech = cavity_magnatron } }
                set_technology = {
                    cavity_magnatron = 1
                    popup = no
                }
            }
            create_equipment_variant = {
                name = "Daybreak Class"
                type = ship_hull_heavy_5
                name_group = SOL_BB_BC_HISTORICAL
                parent_version = 0
                design_team = mio:EQS_baltimare_organization
                modules = {
                    fixed_ship_battery_slot = ship_heavy_battery_2
                    fixed_ship_anti_air_slot = ship_anti_air_2
                    fixed_ship_fire_control_system_slot = ship_fire_control_system_1
                    fixed_ship_radar_slot = ship_radar_2
                    fixed_ship_engine_slot = heavy_ship_engine_5
                    fixed_ship_secondaries_slot = ship_secondaries_2
                    fixed_ship_armor_slot = ship_armor_bc_2
                    front_1_custom_slot = ship_anti_air_2
                    mid_1_custom_slot = ship_airplane_launcher_1
                    mid_2_custom_slot = ship_airplane_launcher_1
                    mid_3_custom_slot = ship_secondaries_2
                    rear_1_custom_slot = ship_heavy_battery_2
                }
            }
        }
        add_equipment_production = {
            amount = 1
            progress = 0.33
            requested_factories = 10
            industrial_manufacturer = mio:EQS_baltimare_organization
            equipment = {
                type = ship_hull_heavy_5
                version_name = "Daybreak Class"
                creator = EQS
            }
            name = "HMS Daybreak"
        }
    }
    else_if = {
        limit = {
            has_tech = advanced_ship_hull_heavy
        }
        if = {
            limit = {
                has_tech = antiair_c
                has_tech = advanced_heavy_battery
                has_tech = monopulse_radar
                has_tech = semi_modern_fire_control_system
                has_tech = improved_airplane_launcher
            }
            create_equipment_variant = {
                name = "Daybreak Class"
                type = ship_hull_heavy_4
                name_group = SOL_BB_BC_HISTORICAL
                parent_version = 0
                design_team = mio:EQS_baltimare_organization
                modules = {
                    fixed_ship_battery_slot = ship_heavy_battery_4
                    fixed_ship_anti_air_slot = ship_anti_air_5
                    fixed_ship_fire_control_system_slot = ship_fire_control_system_4
                    fixed_ship_radar_slot = ship_radar_4
                    fixed_ship_engine_slot = heavy_ship_engine_5
                    fixed_ship_secondaries_slot = ship_secondaries_2
                    fixed_ship_armor_slot = ship_armor_bc_2
                    front_1_custom_slot = ship_anti_air_5
                    mid_1_custom_slot = ship_airplane_launcher_2
                    mid_2_custom_slot = ship_airplane_launcher_2
                    mid_3_custom_slot = ship_secondaries_2
                    rear_1_custom_slot = ship_heavy_battery_4
                }
            }
        }
        else_if = {
            limit = {
                has_tech = antiair4
                has_tech = phased_array
                has_tech = advanced_fire_control_system
                has_tech = improved_airplane_launcher
                has_tech = improved_heavy_battery
            }
            create_equipment_variant = {
                name = "Daybreak Class"
                type = ship_hull_heavy_4
                name_group = SOL_BB_BC_HISTORICAL
                parent_version = 0
                design_team = mio:EQS_baltimare_organization
                modules = {
                    fixed_ship_battery_slot = ship_heavy_battery_3
                    fixed_ship_anti_air_slot = ship_anti_air_4
                    fixed_ship_fire_control_system_slot = ship_fire_control_system_3
                    fixed_ship_radar_slot = ship_radar_3
                    fixed_ship_engine_slot = heavy_ship_engine_5
                    fixed_ship_secondaries_slot = ship_secondaries_2
                    fixed_ship_armor_slot = ship_armor_bc_2
                    front_1_custom_slot = ship_anti_air_4
                    mid_1_custom_slot = ship_airplane_launcher_2
                    mid_2_custom_slot = ship_airplane_launcher_2
                    mid_3_custom_slot = ship_secondaries_2
                    rear_1_custom_slot = ship_heavy_battery_3
                }
            }
        }
        else = {
            if = {
                limit = { NOT = { has_tech = cavity_magnatron } }
                set_technology = {
                    cavity_magnatron = 1
                    popup = no
                }
            }
            create_equipment_variant = {
                name = "Daybreak Class"
                type = ship_hull_heavy_4
                name_group = SOL_BB_BC_HISTORICAL
                parent_version = 0
                design_team = mio:EQS_baltimare_organization
                modules = {
                    fixed_ship_battery_slot = ship_heavy_battery_2
                    fixed_ship_anti_air_slot = ship_anti_air_2
                    fixed_ship_fire_control_system_slot = ship_fire_control_system_1
                    fixed_ship_radar_slot = ship_radar_2
                    fixed_ship_engine_slot = heavy_ship_engine_5
                    fixed_ship_secondaries_slot = ship_secondaries_2
                    fixed_ship_armor_slot = ship_armor_bc_1
                    front_1_custom_slot = ship_anti_air_2
                    mid_1_custom_slot = ship_airplane_launcher_1
                    mid_2_custom_slot = ship_airplane_launcher_1
                    mid_3_custom_slot = ship_secondaries_2
                    rear_1_custom_slot = ship_heavy_battery_2
                }
            }
        }
        add_equipment_production = {
            amount = 1
            progress = 0.33
            requested_factories = 10
            industrial_manufacturer = mio:EQS_baltimare_organization
            equipment = {
                type = ship_hull_heavy_4
                version_name = "Daybreak Class"
                creator = EQS
            }
            name = "HMS Daybreak"
        }
    }
    else = {
        if = {
            limit = {
                has_tech = antiair4
                has_tech = phased_array
                has_tech = advanced_fire_control_system
                has_tech = improved_airplane_launcher
                has_tech = improved_heavy_battery
            }
            create_equipment_variant = {
                name = "Daybreak Class"
                type = ship_hull_heavy_3
                name_group = SOL_BB_BC_HISTORICAL
                parent_version = 0
                design_team = mio:EQS_baltimare_organization
                modules = {
                    fixed_ship_battery_slot = ship_heavy_battery_3
                    fixed_ship_anti_air_slot = ship_anti_air_4
                    fixed_ship_fire_control_system_slot = ship_fire_control_system_3
                    fixed_ship_radar_slot = ship_radar_3
                    fixed_ship_engine_slot = heavy_ship_engine_5
                    fixed_ship_secondaries_slot = ship_secondaries_2
                    fixed_ship_armor_slot = ship_armor_bc_1
                    front_1_custom_slot = ship_anti_air_4
                    mid_1_custom_slot = ship_airplane_launcher_2
                    mid_2_custom_slot = ship_airplane_launcher_2
                    mid_3_custom_slot = ship_secondaries_2
                    rear_1_custom_slot = ship_heavy_battery_3
                }
            }
        }
        else = {
            if = {
                limit = { NOT = { has_tech = cavity_magnatron } }
                set_technology = {
                    cavity_magnatron = 1
                    popup = no
                }
            }
            create_equipment_variant = {
                name = "Daybreak Class"
                type = ship_hull_heavy_3
                name_group = SOL_BB_BC_HISTORICAL
                parent_version = 0
                design_team = mio:EQS_baltimare_organization
                modules = {
                    fixed_ship_battery_slot = ship_heavy_battery_2
                    fixed_ship_anti_air_slot = ship_anti_air_2
                    fixed_ship_fire_control_system_slot = ship_fire_control_system_1
                    fixed_ship_radar_slot = ship_radar_2
                    fixed_ship_engine_slot = heavy_ship_engine_5
                    fixed_ship_secondaries_slot = ship_secondaries_2
                    fixed_ship_armor_slot = ship_armor_bc_1
                    front_1_custom_slot = ship_anti_air_2
                    mid_1_custom_slot = ship_airplane_launcher_1
                    mid_2_custom_slot = ship_airplane_launcher_1
                    mid_3_custom_slot = ship_secondaries_2
                    rear_1_custom_slot = ship_heavy_battery_2
                }
            }
        }
        add_equipment_production = {
            amount = 1
            progress = 0.33
            requested_factories = 10
            industrial_manufacturer = mio:EQS_baltimare_organization
            equipment = {
                type = ship_hull_heavy_4
                version_name = "Daybreak Class"
                creator = EQS
            }
            name = "HMS Daybreak"
        }
    }
}
EQS_get_flagship_cv = {
    ###Daybreak, but less crazy###
    if = {
        limit = {
            has_tech = semi_modern_ship_hull_carrier
        }
        if = {
            limit = {
                has_tech = antiair_c
                has_tech = monopulse_radar
            }
            create_equipment_variant = {
                name = "Daybreak Class"
                type = ship_hull_carrier_4
                name_group = SOL_CV_HISTORICAL
                parent_version = 0
                design_team = mio:EQS_seaward_organization
                modules = {
                    fixed_ship_deck_slot_1 = ship_deck_space
                    fixed_ship_deck_slot_2 = ship_deck_space
                    fixed_ship_anti_air_slot = ship_anti_air_5
                    fixed_ship_radar_slot = ship_radar_4
                    fixed_ship_engine_slot = carrier_ship_engine_5
                    fixed_ship_secondaries_slot = ship_secondaries_2
                    fixed_ship_armor_slot = empty
                    front_1_custom_slot = ship_deck_space
                    mid_1_custom_slot = ship_deck_space
                    mid_2_custom_slot = ship_deck_space
                    mid_3_custom_slot = ship_deck_space
                    rear_1_custom_slot = ship_deck_space

                }
            }
        }
        else_if = {
            limit = {
                has_tech = antiair4
                has_tech = phased_array
            }
            create_equipment_variant = {
                name = "Daybreak Class"
                type = ship_hull_carrier_4
                name_group = SOL_CV_HISTORICAL
                design_team = mio:EQS_seaward_organization
                parent_version = 0
                modules = {
                    fixed_ship_deck_slot_1 = ship_deck_space
                    fixed_ship_deck_slot_2 = ship_deck_space
                    fixed_ship_anti_air_slot = ship_anti_air_4
                    fixed_ship_radar_slot = ship_radar_3
                    fixed_ship_engine_slot = carrier_ship_engine_5
                    fixed_ship_secondaries_slot = ship_secondaries_2
                    fixed_ship_armor_slot = empty
                    front_1_custom_slot = ship_deck_space
                    mid_1_custom_slot = ship_deck_space
                    mid_2_custom_slot = ship_deck_space
                    mid_3_custom_slot = ship_deck_space
                    rear_1_custom_slot = ship_deck_space

                }
            }
        }
        else = {
            if = {
                limit = { NOT = { has_tech = cavity_magnatron } }
                set_technology = {
                    cavity_magnatron = 1
                    popup = no
                }
            }
            create_equipment_variant = {
                name = "Daybreak Class"
                type = ship_hull_carrier_4
                name_group = SOL_CV_HISTORICAL
                design_team = mio:EQS_seaward_organization
                parent_version = 0
                modules = {
                    fixed_ship_deck_slot_1 = ship_deck_space
                    fixed_ship_deck_slot_2 = ship_deck_space
                    fixed_ship_anti_air_slot = ship_anti_air_2
                    fixed_ship_radar_slot = ship_radar_2
                    fixed_ship_engine_slot = carrier_ship_engine_5
                    fixed_ship_secondaries_slot = ship_secondaries_2
                    fixed_ship_armor_slot = empty
                    front_1_custom_slot = ship_deck_space
                    mid_1_custom_slot = ship_deck_space
                    mid_2_custom_slot = ship_deck_space
                    mid_3_custom_slot = ship_deck_space
                    rear_1_custom_slot = ship_deck_space

                }
            }
        }
        add_equipment_production = {
            amount = 1
            progress = 0.33
            requested_factories = 10
            industrial_manufacturer = mio:EQS_seaward_organization
            equipment = {
                type = ship_hull_carrier_4
                version_name = "Daybreak Class"
                creator = EQS
            }
            name = "HMS Daybreak"
        }
    }
    else_if = {
        limit = {
            has_tech = advanced_ship_hull_carrier
        }
        if = {
            limit = {
                has_tech = antiair_c
                has_tech = monopulse_radar
            }
            create_equipment_variant = {
                name = "Daybreak Class"
                type = ship_hull_carrier_3
                name_group = SOL_CV_HISTORICAL
                parent_version = 0
                design_team = mio:EQS_seaward_organization
                modules = {
                    fixed_ship_deck_slot_1 = ship_deck_space
                    fixed_ship_deck_slot_2 = ship_deck_space
                    fixed_ship_anti_air_slot = ship_anti_air_5
                    fixed_ship_radar_slot = ship_radar_4
                    fixed_ship_engine_slot = carrier_ship_engine_4
                    fixed_ship_secondaries_slot = ship_secondaries_2
                    fixed_ship_armor_slot = empty
                    front_1_custom_slot = ship_deck_space
                    mid_1_custom_slot = ship_deck_space
                    mid_2_custom_slot = ship_deck_space
                    rear_1_custom_slot = ship_deck_space

                }
            }
        }
        else_if = {
            limit = {
                has_tech = antiair4
                has_tech = phased_array
            }
            create_equipment_variant = {
                name = "Daybreak Class"
                type = ship_hull_carrier_3
                name_group = SOL_CV_HISTORICAL
                parent_version = 0
                design_team = mio:EQS_seaward_organization
                modules = {
                    fixed_ship_deck_slot_1 = ship_deck_space
                    fixed_ship_deck_slot_2 = ship_deck_space
                    fixed_ship_anti_air_slot = ship_anti_air_4
                    fixed_ship_radar_slot = ship_radar_3
                    fixed_ship_engine_slot = carrier_ship_engine_4
                    fixed_ship_secondaries_slot = ship_secondaries_2
                    fixed_ship_armor_slot = empty
                    front_1_custom_slot = ship_deck_space
                    mid_1_custom_slot = ship_deck_space
                    mid_2_custom_slot = ship_deck_space
                    rear_1_custom_slot = ship_deck_space

                }
            }
        }
        else = {
            if = {
                limit = { NOT = { has_tech = cavity_magnatron } }
                set_technology = {
                    cavity_magnatron = 1
                    popup = no
                }
            }
            create_equipment_variant = {
                name = "Daybreak Class"
                type = ship_hull_carrier_3
                name_group = SOL_CV_HISTORICAL
                parent_version = 0
                design_team = mio:EQS_seaward_organization
                modules = {
                    fixed_ship_deck_slot_1 = ship_deck_space
                    fixed_ship_deck_slot_2 = ship_deck_space
                    fixed_ship_anti_air_slot = ship_anti_air_5
                    fixed_ship_radar_slot = ship_radar_4
                    fixed_ship_engine_slot = carrier_ship_engine_4
                    fixed_ship_secondaries_slot = ship_secondaries_2
                    fixed_ship_armor_slot = empty
                    front_1_custom_slot = ship_deck_space
                    mid_1_custom_slot = ship_deck_space
                    mid_2_custom_slot = ship_deck_space
                    rear_1_custom_slot = ship_deck_space

                }
            }
        }
        add_equipment_production = {
            amount = 1
            progress = 0.33
            requested_factories = 10
            industrial_manufacturer = mio:EQS_seaward_organization
            equipment = {
                type = ship_hull_carrier_3
                version_name = "Daybreak Class"
                creator = EQS
            }
            name = "HMS Daybreak"
        }
    }
    else = {
        if = {
            limit = {
                has_tech = antiair4
                has_tech = phased_array
            }
            create_equipment_variant = {
                name = "Daybreak Class"
                type = ship_hull_carrier_2
                name_group = SOL_CV_HISTORICAL
                parent_version = 0
                design_team = mio:EQS_seaward_organization
                modules = {
                    fixed_ship_deck_slot_1 = ship_deck_space
                    fixed_ship_deck_slot_2 = ship_deck_space
                    fixed_ship_anti_air_slot = ship_anti_air_4
                    fixed_ship_radar_slot = ship_radar_3
                    fixed_ship_engine_slot = carrier_ship_engine_3
                    fixed_ship_secondaries_slot = ship_secondaries_2
                    fixed_ship_armor_slot = empty
                    front_1_custom_slot = ship_deck_space
                    mid_1_custom_slot = ship_deck_space
                    mid_2_custom_slot = ship_deck_space

                }
            }
        }
        else = {
            if = {
                limit = { NOT = { has_tech = cavity_magnatron } }
                set_technology = {
                    cavity_magnatron = 1
                    popup = no
                }
            }
            create_equipment_variant = {
                name = "Daybreak Class"
                type = ship_hull_carrier_2
                name_group = SOL_CV_HISTORICAL
                parent_version = 0
                design_team = mio:EQS_seaward_organization
                modules = {
                    fixed_ship_deck_slot_1 = ship_deck_space
                    fixed_ship_deck_slot_2 = ship_deck_space
                    fixed_ship_anti_air_slot = ship_anti_air_2
                    fixed_ship_radar_slot = ship_radar_2
                    fixed_ship_engine_slot = carrier_ship_engine_3
                    fixed_ship_secondaries_slot = ship_secondaries_2
                    fixed_ship_armor_slot = empty
                    front_1_custom_slot = ship_deck_space
                    mid_1_custom_slot = ship_deck_space
                    mid_2_custom_slot = ship_deck_space

                }
            }
        }
        add_equipment_production = {
            amount = 1
            progress = 0.33
            requested_factories = 10
            industrial_manufacturer = mio:EQS_seaward_organization
            equipment = {
                type = ship_hull_carrier_2
                version_name = "Daybreak Class"
                creator = EQS
            }
            name = "HMS Daybreak"
        }
    }
}
