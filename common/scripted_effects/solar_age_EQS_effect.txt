EQS_add_GRD_cores = {
    ANG = { add_to_ROOT_potential_cores = yes }
    KAT = { add_to_ROOT_potential_cores = yes }
    YAL = { add_to_ROOT_potential_cores = yes }
    ROU = { add_to_ROOT_potential_cores = yes }
    FEA = { add_to_ROOT_potential_cores = yes }
    STW = { add_to_ROOT_potential_cores = yes }
    BRZ = { add_to_ROOT_potential_cores = yes }
    PYT = { add_to_ROOT_potential_cores = yes }
    FAT = { add_to_ROOT_potential_cores = yes }
    MNC = { add_to_ROOT_potential_cores = yes }
    HAU = { add_to_ROOT_potential_cores = yes }
    SRS = { add_to_ROOT_potential_cores = yes }
    VED = { add_to_ROOT_potential_cores = yes }
    LAK = { add_to_ROOT_potential_cores = yes }
    ERI = { add_to_ROOT_potential_cores = yes }
    EYR = { add_to_ROOT_potential_cores = yes }
    AVI = { add_to_ROOT_potential_cores = yes }
    BAN = { add_to_ROOT_potential_cores = yes }
    BOI = { add_to_ROOT_potential_cores = yes }
    FLO = { add_to_ROOT_potential_cores = yes }
    HEL = { add_to_ROOT_potential_cores = yes }
    AET = { add_to_ROOT_potential_cores = yes }
    TRD = { add_to_ROOT_potential_cores = yes }
    FEZ = { add_to_ROOT_potential_cores = yes }
    POM = { add_to_ROOT_potential_cores = yes }
    JRR = { add_to_ROOT_potential_cores = yes }
    VIN = { add_to_ROOT_potential_cores = yes }
    JER = { add_to_ROOT_potential_cores = yes }
    JEB = { add_to_ROOT_potential_cores = yes }
    JFT = { add_to_ROOT_potential_cores = yes }
    ARA = { add_to_ROOT_potential_cores = yes }
    FRN = { add_to_ROOT_potential_cores = yes }
    TAL = { add_to_ROOT_potential_cores = yes }
    WNG = { add_to_ROOT_potential_cores = yes }
    FAL = { add_to_ROOT_potential_cores = yes }
    SIC = { add_to_ROOT_potential_cores = yes }
    CYA = { add_to_ROOT_potential_cores = yes }
    HLQ = { add_to_ROOT_potential_cores = yes }
    LNS = { add_to_ROOT_potential_cores = yes }
    LUS = { add_to_ROOT_potential_cores = yes }
    GRW = { add_to_ROOT_potential_cores = yes }
    BRF = { add_to_ROOT_potential_cores = yes }
    GRY = { add_to_ROOT_potential_cores = yes }
    GRU = { add_to_ROOT_potential_cores = yes }
    LSC = { add_to_ROOT_potential_cores = yes }
    LSM = { add_to_ROOT_potential_cores = yes }
    JES = { add_to_ROOT_potential_cores = yes }
}
EQS_remove_science_ideas = {
    if = {
        limit = { has_idea = unicorn_academy }
        remove_ideas = unicorn_academy
    }
    else_if = {
        limit = { has_idea = unicorn_academy1 }
        remove_ideas = unicorn_academy1
    }
    else_if = {
        limit = { has_idea = unicorn_academy2 }
        remove_ideas = unicorn_academy2
    }
    else_if = {
        limit = { has_idea = unicorn_academy3 }
        remove_ideas = unicorn_academy3
    }
    else_if = {
        limit = { has_idea = unicorn_academy4 }
        remove_ideas = unicorn_academy4
    }
    if = {
        limit = { has_idea = magical_trainingidea }
        remove_ideas = magical_trainingidea
    }
}
EQS_update_lost_soldier_corpses = {
    #Gets temporary variable of current casualties, then subtracts any viable corpses that are currently waiting to be used, and also subtracts any used corpses
    #Should work out to EQS_current_casualties = X, EQS_used_corpses_var = Y; X = Y + (X - Y)
    set_temp_variable = { EQS_current_casualties = casualties }
    if = {
        limit = { check_variable = { EQS_used_corpses_var > 0 } }
        subtract_from_temp_variable = { EQS_current_casualties = EQS_used_corpses_var }
    }
    set_variable = { EQS_viable_corpse_var = EQS_current_casualties }
}
SOL_helios_effect = {
    custom_effect_tooltip = SOL_glass_them_all_tt
    custom_effect_tooltip = SOL_this_is_whats_called_a_pro_gamer_move_tt
    clr_country_flag = SOL_project_helios_warming_up
    create_entity = {
        entity = nuke_entity
        id = 1337420
        var = helios_effect_ent_2
        x = 0
        y = 0
        z = 0
        state = FROM
        scale = 2
        rotation = 1.0
        min_zoom = 3000.0
    }
    set_entity_animation = {
        id = 1337420
        animation = attack
    }
    #Long line of ifs for the good, ol' laser firer
    hidden_effect = {
        if = {
            limit = { NOT = { has_global_flag = SOL_helios_first_used } }
            set_global_flag = SOL_helios_first_used
            hidden_effect = {
                FROM = {
                    OWNER = {
                        news_event = { id = news.solarage.20 hours = 3 }
                    }
                }
            }
        }
        if = {
            limit = {
                FROM = { state = 251 }
                NOT = { has_global_flag = SOL_vesalipolis_vaporized }
            }
            set_global_flag = SOL_vesalipolis_vaporized
            #Event for vaporizing Vesalipolis
            country_event = { id = solarreworked.138 hours = 3 }
            news_event = { id = news.solarage.21 hours = 6 }
        }
        if = {
            limit = {
                FROM = { state = 389 }
                NOT = { has_global_flag = SOL_griffonstone_glassed }
            }
            set_temp_variable = {
                nuked = FROM.owner
            }
            set_global_flag = SOL_griffonstone_glassed
            news_event = { id = news.solarage.22 hours = 3 }
            every_other_country = {
                limit = { is_griffon_continent_griffon_country = yes }
                add_ai_strategy = {
                    type = antagonize
                    id = PREV
                    value = 500
                }
                add_ai_strategy = {
                    type = contain
                    id = PREV
                    value = 500
                }
                add_ai_strategy = {
                    type = befriend
                    id = PREV
                    value = -500
                }
                add_ai_strategy = {
                    type = alliance
                    id = PREV
                    value = -500
                }
                add_ai_strategy = {
                    type = ignore
                    id = PREV
                    value = -200
                }
                var:nuked = {
                    PREV = {
                        add_ai_strategy = {
                            type = protect
                            id = PREV
                            value = 500
                        }
                        add_ai_strategy = {
                            type = alliance
                            id = PREV
                            value = 500
                        }
                        add_ai_strategy = {
                            type = send_volunteers_desire
                            id = PREV
                            value = 500
                        }
                        add_ai_strategy = {
                            type = support
                            id = PREV
                            value = 500
                        }
                        add_ai_strategy = {
                            type = ignore
                            id = PREV
                            value = -200
                        }
                    }
                }
            }
            add_opinion_modifier = {
                target = EQS
                modifier = nuked_griffonstone
            }
            add_opinion_modifier = {
                target = EQS
                modifier = CHN_embargo
            }
        }
        else_if = {
            limit = {
                FROM = { state = 382 }
                NOT = { has_global_flag = SOL_griffenheim_glassed }
            }
            set_global_flag = SOL_griffenheim_glassed
            news_event = { id = news.solarage.23 hours = 3 }
        }
        else_if = {
            limit = {
                FROM = { state = 377 }
                NOT = { has_global_flag = SOL_aquila_glassed }
            }
            set_global_flag = SOL_aquila_glassed
            news_event = { id = news.solarage.24 hours = 3 }
        }
        else_if = {
            limit = {
                FROM = { state = 371 }
                NOT = { has_global_flag = SOL_karthin_glassed }
            }
            set_global_flag = SOL_karthin_glassed
            news_event = { id = news.solarage.25 hours = 3 }
        }
        else_if = {
            limit = {
                FROM = { state = 415 }
                NOT = { has_global_flag = SOL_magehold_glassed }
            }
            set_global_flag = SOL_magehold_glassed
            news_event = { id = news.solarage.26 hours = 3 }
        }
        else_if = {
            limit = {
                FROM = { state = 381 }
                NOT = { has_global_flag = SOL_skyfall_glassed }
            }
            set_global_flag = SOL_skyfall_glassed
            news_event = { id = news.solarage.27 hours = 3 }
        }
        else_if = {
            limit = {
                FROM = { state = 3 }
                NOT = { has_global_flag = SOL_canterlot_glassed }
            }
            set_global_flag = SOL_canterlot_glassed
            news_event = { id = news.solarage.28 hours = 3 }
        }
        else_if = {
            limit = {
                FROM = { state = 619 }
                NOT = { has_global_flag = SOL_rijekograd_glassed }
            }
            set_global_flag = SOL_rijekograd_glassed
            news_event = { id = news.solarage.29 hours = 3 }
        }
        else_if = {
            limit = {
                FROM = {
                    OR = { ##### There are 3 provinces named Crystal City
                        state = 53
                        state = 345
                        state = 344
                    }
                }
                NOT = { has_global_flag = SOL_crystal_city_glassed }
            }
            set_global_flag = SOL_crystal_city_glassed
            news_event = { id = news.solarage.30 hours = 3 }
        }
        else_if = {
            limit = {
                FROM = { state = 153 }
                153 = {is_capital = yes}
                NOT = { has_global_flag = SOL_stalliongrad_glassed }
            }
            set_global_flag = SOL_stalliongrad_glassed
            news_event = { id = news.solarage.31 hours = 3 }
        }
        else_if = {
            limit = {
                FROM = { state = 875 }
                NOT = { has_global_flag = SOL_colthage_glassed }
            }
            set_global_flag = SOL_colthage_glassed
            news_event = { id = news.solarage.32 hours = 3 }
        }
        else_if = {
            limit = {
                FROM = { state = 1165 }
                NOT = { has_global_flag = SOL_mount_aris_glassed }
            }
            set_global_flag = SOL_mount_aris_glassed
            news_event = { id = news.solarage.33 hours = 3 }
        }
        else_if = {
            limit = {
                FROM = { state = 712 }
                NOT = { has_global_flag = SOL_new_ayacachtli_glassed }
            }
            set_global_flag = SOL_new_ayacachtli_glassed
            news_event = { id = news.solarage.34 hours = 3 }
        }
    }
}
EQS_project_helios_destruction = {
    set_state_flag = SOL_firing_mah_lazaaah
    every_state_division = {
        destroy_unit = yes
    }
    #Why remake the nuke population loss effect when you can just yoink it and change it slightly?
    decrease_population_on_laser = yes
    decrease_population_on_laser = yes
    decrease_population_on_laser = yes
    add_dynamic_modifier = {
        modifier = SOL_evaporated_state
        days = 400
    }
    if = {
        limit = { infrastructure > 0 }
        damage_building = {
            type = infrastructure
            damage = 5
        }
    }
    if = {
        limit = { arms_factory > 0 }
        damage_building = {
            type = arms_factory
            damage = 100
        }
    }
    if = {
        limit = { industrial_complex > 0 }
        damage_building = {
            type = industrial_complex
            damage = 100
        }
    }
    if = {
        limit = { dockyard > 0 }
        damage_building = {
            type = dockyard
            damage = 100
        }
    }
    if = {
        limit = { air_base > 0 }
        damage_building = {
            type = air_base
            damage = 10
        }
    }
    if = {
        limit = { synthetic_refinery > 0 }
        damage_building = {
            type = synthetic_refinery
            damage = 3
        }
    }
    if = {
        limit = { anti_air_building > 0 }
        damage_building = {
            type = anti_air_building
            damage = 5
        }
    }
    if = {
        limit = { synthetic_crystal_refinery > 0 }
        damage_building = {
            type = synthetic_crystal_refinery
            damage = 3
        }
    }
    if = {
        limit = { magical_quarry > 0 }
        damage_building = {
            type = magical_quarry
            damage = 1
        }
    }
    if = {
        limit = { radar_station > 0 }
        damage_building = {
            type = radar_station
            damage = 12
        }
    }
    if = {
        limit = { rocket_site > 0 }
        damage_building = {
            type = rocket_site
            damage = 3
        }
    }
    if = {
        limit = { nuclear_reactor > 0 }
        damage_building = {
            type = nuclear_reactor
            damage = 1
        }
    }
    if = {
        limit = { nuclear_reactor_heavy_water > 0 }
        damage_building = {
            type = nuclear_reactor_heavy_water
            damage = 1
        }
    }
    if = {
        limit = { commercial_nuclear_reactor > 0 }
        damage_building = {
            type = commercial_nuclear_reactor
            damage = 1
        }
    }
    if = {
        limit = { bunker > 0 }
        damage_building = {
            type = bunker
            damage = 10
        }
    }
    if = {
        limit = { coastal_bunker > 0 }
        damage_building = {
            type = coastal_bunker
            damage = 10
        }
    }
    if = {
        limit = { stronghold_network > 0 }
        damage_building = {
            type = stronghold_network
            damage = 1
        }
    }
    if = {
        limit = { naval_base > 0 }
        damage_building = {
            type = naval_base
            damage = 10
        }
    }
    if = {
        limit = { rail_way > 0 }
        damage_building = {
            type = rail_way
            damage = 5
        }
    }
    if = {
        limit = { supply_node > 0 }
        damage_building = {
            type = supply_node
            damage = 1
        }
    }
    if = {
        limit = { naval_facility > 0 }
        damage_building = {
            type = naval_facility
            damage = 1
        }
    }
    if = {
        limit = { fuel_silo > 0 }
        damage_building = {
            type = fuel_silo
            damage = 3
        }
    }
    if = {
        limit = { mega_gun_emplacement > 0 }
        damage_building = {
            type = mega_gun_emplacement
            damage = 0.2
        }
    }
    if = {
        limit = { nuclear_facility > 0 }
        damage_building = {
            type = nuclear_facility
            damage = 1
        }
    }
    if = {
        limit = { air_facility > 0 }
        damage_building = {
            type = air_facility
            damage = 1
        }
    }
    if = {
        limit = { magical_facility > 0 }
        damage_building = {
            type = magical_facility
            damage = 1
        }
    }
    if = {
        limit = { land_facility > 0 }
        damage_building = {
            type = land_facility
            damage = 1
        }
    }
    if = {
        limit = { dam > 0 }
        damage_building = {
            type = dam
            damage = 1
        }
    }
    if = {
        limit = { dam_mountain > 0 }
        damage_building = {
            type = dam_mountain
            damage = 1
        }
    }
    if = {
        limit = { landmark_queens_tower > 0 }
        damage_building = {
            type = landmark_queens_tower
            damage = 1
        }
    }
    if = {
        limit = { landmark_palace_of_the_soviets > 0 }
        damage_building = {
            type = landmark_palace_of_the_soviets
            damage = 1
        }
    }
    if = {
        limit = { landmark_canterlot_castle > 0 }
        damage_building = {
            type = landmark_canterlot_castle
            damage = 1
        }
    }
    if = {
        limit = { landmark_mount_aris > 0 }
        damage_building = {
            type = landmark_mount_aris
            damage = 1
        }
    }
    if = {
        limit = { landmark_griffenheim_palace > 0 }
        damage_building = {
            type = landmark_griffenheim_palace
            damage = 1
        }
    }
    if = {
        limit = { landmark_cothon_colthage > 0 }
        damage_building = {
            type = landmark_cothon_colthage
            damage = 1
        }
    }
    if = {
        limit = { landmark_crystal_heart > 0 }
        damage_building = {
            type = landmark_crystal_heart
            damage = 1
        }
    }
    if = {
        limit = { landmark_yak_statues > 0 }
        damage_building = {
            type = landmark_yak_statues
            damage = 1
        }
    }
    if = {
        limit = { landmark_dragon_throne > 0 }
        damage_building = {
            type = landmark_dragon_throne
            damage = 1
        }
    }
    if = {
        limit = { landmark_magehold > 0 }
        damage_building = {
            type = landmark_magehold
            damage = 1
        }
    }
    if = {
        limit = { landmark_tarpian_rock > 0 }
        damage_building = {
            type = landmark_tarpian_rock
            damage = 1
        }
    }
    if = {
        limit = { landmark_palaca_rijeke > 0 }
        damage_building = {
            type = landmark_palaca_rijeke
            damage = 1
        }
    }
    if = {
        limit = { landmark_tomb_of_arantigos > 0 }
        damage_building = {
            type = landmark_tomb_of_arantigos
            damage = 1
        }
    }
    if = {
        limit = { landmark_vermilion_palace > 0 }
        damage_building = {
            type = landmark_vermilion_palace
            damage = 1
        }
    }
    if = {
        limit = { landmark_storm_kings_palace > 0 }
        damage_building = {
            type = landmark_storm_kings_palace
            damage = 1
        }
    }
    if = {
        limit = { landmark_temple_of_sphinx > 0 }
        damage_building = {
            type = landmark_temple_of_sphinx
            damage = 1
        }
    }
    if = {
        limit = { landmark_home_of_griffons > 0 }
        damage_building = {
            type = landmark_home_of_griffons
            damage = 1
        }
    }
    if = {
        limit = { landmark_grand_temple_arcturius > 0 }
        damage_building = {
            type = landmark_grand_temple_arcturius
            damage = 1
        }
    }
    if = {
        limit = { landmark_castle_of_the_order_brothers_of_the_griffon_house_of_prelate_aloysious_in_cloudbury > 0 }
        damage_building = {
            type = landmark_castle_of_the_order_brothers_of_the_griffon_house_of_prelate_aloysious_in_cloudbury
            damage = 1
        }
    }
    if = {
        limit = { landmark_great_library > 0 }
        damage_building = {
            type = landmark_great_library
            damage = 1
        }
    }
    if = {
        limit = { landmark_palace_of_grand_prince > 0 }
        damage_building = {
            type = landmark_palace_of_grand_prince
            damage = 1
        }
    }
    if = {
        limit = { landmark_dvash > 0 }
        damage_building = {
            type = landmark_dvash
            damage = 1
        }
    }
    if = {
        limit = { landmark_akropolis > 0 }
        damage_building = {
            type = landmark_akropolis
            damage = 1
        }
    }
    if = {
        limit = { landmark_grand_temple_of_eviliana > 0 }
        damage_building = {
            type = landmark_grand_temple_of_eviliana
            damage = 1
        }
    }
    if = {
        limit = { landmark_university_of_timbucktu > 0 }
        damage_building = {
            type = landmark_university_of_timbucktu
            damage = 1
        }
    }
    if = {
        limit = { landmark_grand_temple_eyr > 0 }
        damage_building = {
            type = landmark_grand_temple_eyr
            damage = 1
        }
    }
    if = {
        limit = { landmark_grand_temple_boreas > 0 }
        damage_building = {
            type = landmark_grand_temple_boreas
            damage = 1
        }
    }
    if = {
        limit = { landmark_monument_to_revolution > 0 }
        damage_building = {
            type = landmark_monument_to_revolution
            damage = 1
        }
    }
    if = {
        limit = { landmark_aby_af_katown_pyramid > 0 }
        damage_building = {
            type = landmark_aby_af_katown_pyramid
            damage = 1
        }
    }
    if = {
        limit = { landmark_aby_af_zebtropa_dam > 0 }
        damage_building = {
            type = landmark_aby_af_zebtropa_dam
            damage = 1
        }
    }
}
#Will adjust to be less extreme later
EQS_troll_chiropterra = {
    custom_effect_tooltip = SOL_BAT_puppet_tt0
    custom_effect_tooltip = BAR_viira_puppet_break
    custom_effect_tooltip = SOL_BAT_puppet_tt1
    713 = {
        add_manpower = -343468
        set_state_category = wasteland
    }
    set_province_name = {
        id = 18601
        name =  EQS_SOL_port
    }
    set_capital = {
        state = 713
        remember_old_capital = no
    }
    712 = {
        add_manpower = -620322
        set_state_category = wasteland
    }
    custom_effect_tooltip = BAR_viira_puppet_genocide2_5
    custom_effect_tooltip = EQS_SOL_BAT_GAMER1
    add_victory_points = {
        province = 18570
        value = -19
    }
    set_province_name = {
        id = 18570
        name = EQS_SOL_batcityburnt
    }
    690 = {
        add_manpower = -138034
        set_state_category = wasteland
    }
    custom_effect_tooltip = EQS_SOL_BAT_GAMER2
    add_victory_points = {
        province = 18583
        value = -3
    }
    689 = {
        add_manpower = -356244
        set_state_category = wasteland
    }
    custom_effect_tooltip = EQS_SOL_BAT_GAMER3
    add_victory_points = {
        province = 18526
        value = -5
    }
    691 = {
        add_manpower = -448210
        set_state_category = wasteland
    }
    custom_effect_tooltip = EQS_SOL_BAT_GAMER4
    add_victory_points = {
        province = 18499
        value = -3
    }
    815 = {
        add_manpower = -204763
        set_state_category = wasteland
    }
    custom_effect_tooltip = EQS_SOL_BAT_GAMER5
    add_victory_points = {
        province = 18477
        value = -3
    }
    custom_effect_tooltip = BAR_viira_puppet_break
    custom_effect_tooltip = SOL_BAT_puppet_tt3
    show_ideas_tooltip = SOL_BAT_order
    hidden_effect = {
    712 = {
            remove_building = {
                type = arms_factory
                level = 100
            }
            remove_building = {
                type = infrastructure
                level = 5
            }
            remove_building = {
                type = dockyard
                level = 100
            }
            remove_building = {
                type = industrial_complex
                level = 100
            }
    }
    712 = {
            remove_building = {
                type = arms_factory
                level = 100
            }
            remove_building = {
                type = infrastructure
                level = 5
            }
            remove_building = {
                type = dockyard
                level = 100
            }
            remove_building = {
                type = industrial_complex
                level = 100
            }
    }
    create_dynamic_country = {
        original_tag = BAT
        set_country_flag = BAT_SOLAR
        set_politics = {
            ruling_party = fascism
            elections_allowed = no
        }
        set_cosmetic_tag = BAT_SOL
        set_research_slots = 3
        set_AI_strategies_on_every_possible_country_delayed = yes
    }
    EQS_SOL_batcouncil = {
        set_nationality = BTS
    }
    BTS = {
        add_ideas = {
            pony_race
            modern_society
            proper_science_base
            no_lack_of_scientists
            no_poverty
        }
            add_ideas = SOL_BAT_order
            load_focus_tree = barrad_focus_viira_bonus
            set_party_name = {
                ideology = fascism
                name = BAT_SOL_PUPPET_fash
                long_name = BAT_SOL_PUPPET_fash_long
            }
            add_country_leader_role = {
                character = EQS_SOL_batcouncil
                promote_leader = yes

                country_leader = {
                    expire = "1965.1.1"
                    ideology = falangism
                    traits = { }
                }
            }
            transfer_state = 713
            transfer_state = 712
            transfer_state = 690
            transfer_state = 691
            transfer_state = 689
            transfer_state = 815
            add_state_core = 713
            add_state_core = 712
            add_state_core = 690
            add_state_core = 691
            add_state_core = 689
            add_state_core = 815
        }
        set_autonomy = {
            target = BTS
            autonomous_state = autonomy_reichskommissariat
        }
    }
}
EQS_get_flagship_bb = {
    ###Daybreak, but less crazy###
    if = {
        limit = {
            has_dlc = "Man the Guns"
        }
        if = {
            limit = {
                has_tech = semi_modern_ship_hull_super_heavy
            }
            if = {
                limit = {
                    has_tech = antiair_c
                    has_tech = advanced_heavy_battery
                    has_tech = monopulse_radar
                    has_tech = semi_modern_fire_control_system
                    has_tech = improved_airplane_launcher
                }
                create_equipment_variant = {
                    name = "Daybreak Class"
                    type = ship_hull_super_heavy_2
                    name_group = SOL_BB_BC_HISTORICAL
                    parent_version = 0
                    modules = {
                        fixed_ship_battery_slot = ship_super_heavy_battery_2
                        fixed_ship_anti_air_slot = ship_anti_air_5
                        fixed_ship_fire_control_system_slot = ship_fire_control_system_4
                        fixed_ship_radar_slot = ship_radar_4
                        fixed_ship_engine_slot = heavy_ship_engine_5
                        fixed_ship_secondaries_slot = ship_secondaries_2
                        fixed_ship_armor_slot = ship_armor_shbb_2
                        front_1_custom_slot = ship_super_heavy_battery_2
                        front_2_custom_slot = ship_super_heavy_battery_2
                        mid_1_custom_slot = ship_anti_air_5
                        mid_2_custom_slot = ship_secondaries_2
                        mid_3_custom_slot = ship_anti_air_5
                        rear_1_custom_slot = ship_airplane_launcher_2
                        rear_2_custom_slot = ship_airplane_launcher_2
                    }
                }
            }
            else_if = {
                limit = {
                    has_tech = antiair4
                    has_tech = phased_array
                    has_tech = advanced_fire_control_system
                    has_tech = improved_airplane_launcher
                }
                create_equipment_variant = {
                    name = "Daybreak Class"
                    type = ship_hull_super_heavy_2
                    name_group = SOL_BB_BC_HISTORICAL
                    parent_version = 0
                    modules = {
                        fixed_ship_battery_slot = ship_super_heavy_battery_1
                        fixed_ship_anti_air_slot = ship_anti_air_4
                        fixed_ship_fire_control_system_slot = ship_fire_control_system_3
                        fixed_ship_radar_slot = ship_radar_3
                        fixed_ship_engine_slot = heavy_ship_engine_3
                        fixed_ship_secondaries_slot = ship_secondaries_2
                        fixed_ship_armor_slot = ship_armor_shbb
                        front_1_custom_slot = ship_super_heavy_battery_1
                        front_2_custom_slot = ship_super_heavy_battery_1
                        mid_1_custom_slot = ship_anti_air_4
                        mid_2_custom_slot = ship_secondaries_2
                        mid_3_custom_slot = ship_anti_air_4
                        rear_1_custom_slot = ship_airplane_launcher_2
                        rear_2_custom_slot = ship_airplane_launcher_2
                    }
                }
            }
            else = {
                if = {
                    limit = {
                        NOT = { has_tech = cavity_magnatron }
                    }
                    set_technology = {
                        cavity_magnatron = 1
                        popup = no
                    }
                }
                create_equipment_variant = {
                    name = "Daybreak Class"
                    type = ship_hull_super_heavy_2
                    name_group = SOL_BB_BC_HISTORICAL
                    parent_version = 0
                    modules = {
                        fixed_ship_battery_slot = ship_super_heavy_battery_1
                        fixed_ship_anti_air_slot = ship_anti_air_2
                        fixed_ship_fire_control_system_slot = ship_fire_control_system_1
                        fixed_ship_radar_slot = ship_radar_3
                        fixed_ship_engine_slot = heavy_ship_engine_3
                        fixed_ship_secondaries_slot = ship_secondaries_2
                        fixed_ship_armor_slot = ship_armor_shbb_2
                        front_1_custom_slot = ship_super_heavy_battery_2
                        front_2_custom_slot = ship_super_heavy_battery_2
                        mid_1_custom_slot = ship_anti_air_5
                        mid_2_custom_slot = ship_secondaries_2
                        mid_3_custom_slot = ship_anti_air_5
                        rear_1_custom_slot = ship_airplane_launcher_2
                        rear_2_custom_slot = ship_airplane_launcher_2
                    }
                }
            }
            add_equipment_production = {
                amount = 1
                progress = 0.33
                requested_factories = 5
                equipment = {
                    type = ship_hull_super_heavy_2
                    version_name = "Daybreak Class"
                    creator = EQS
                }
                name = "HMS Daybreak"
            }
        }
        else = {
            if = {
                limit = {
                    has_tech = antiair4
                    has_tech = phased_array
                    has_tech = advanced_fire_control_system
                    has_tech = improved_airplane_launcher
                }
                create_equipment_variant = {
                    name = "Daybreak Class"
                    type = ship_hull_super_heavy_1
                    name_group = SOL_BB_BC_HISTORICAL
                    parent_version = 0
                    modules = {
                        fixed_ship_battery_slot = ship_super_heavy_battery_1
                        fixed_ship_anti_air_slot = ship_anti_air_4
                        fixed_ship_fire_control_system_slot = ship_fire_control_system_3
                        fixed_ship_radar_slot = ship_radar_3
                        fixed_ship_engine_slot = heavy_ship_engine_3
                        fixed_ship_secondaries_slot = ship_secondaries_2
                        fixed_ship_armor_slot = ship_armor_shbb
                        front_1_custom_slot = ship_super_heavy_battery_1
                        front_2_custom_slot = ship_super_heavy_battery_1
                        mid_1_custom_slot = ship_anti_air_4
                        mid_2_custom_slot = ship_secondaries_2
                        mid_3_custom_slot = ship_anti_air_4
                        rear_1_custom_slot = ship_airplane_launcher_2
                        rear_2_custom_slot = ship_airplane_launcher_2
                    }
                }
            }
            else_if = {
                limit = {
                    has_tech = antiair2
                    has_tech = cavity_magnatron
                    has_tech = improved_fire_control_system
                    has_tech = improved_airplane_launcher
                }
                create_equipment_variant = {
                    name = "Daybreak Class"
                    type = ship_hull_super_heavy_1
                    name_group = SOL_BB_BC_HISTORICAL
                    parent_version = 0
                    modules = {
                        fixed_ship_battery_slot = ship_super_heavy_battery_1
                        fixed_ship_anti_air_slot = ship_anti_air_3
                        fixed_ship_fire_control_system_slot = ship_fire_control_system_2
                        fixed_ship_radar_slot = ship_radar_2
                        fixed_ship_engine_slot = heavy_ship_engine_3
                        fixed_ship_secondaries_slot = ship_secondaries_2
                        fixed_ship_armor_slot = ship_armor_shbb
                        front_1_custom_slot = ship_super_heavy_battery_1
                        front_2_custom_slot = ship_super_heavy_battery_1
                        mid_1_custom_slot = ship_anti_air_3
                        mid_2_custom_slot = ship_secondaries_2
                        mid_3_custom_slot = ship_anti_air_3
                        rear_1_custom_slot = ship_airplane_launcher_1
                        rear_2_custom_slot = ship_airplane_launcher_1
                    }
                }
            }
            else = {
                if = {
                    limit = { NOT = { has_tech = cavity_magnatron } }
                    set_technology = {
                        cavity_magnatron = 1
                        popup = no
                    }
                }
                create_equipment_variant = {
                    name = "Daybreak Class"
                    type = ship_hull_super_heavy_1
                    name_group = SOL_BB_BC_HISTORICAL
                    parent_version = 0
                    modules = {
                        fixed_ship_battery_slot = ship_super_heavy_battery_1
                        fixed_ship_anti_air_slot = ship_anti_air_2
                        fixed_ship_fire_control_system_slot = ship_fire_control_system_1
                        fixed_ship_radar_slot = ship_radar_2
                        fixed_ship_engine_slot = heavy_ship_engine_3
                        fixed_ship_secondaries_slot = ship_secondaries_2
                        fixed_ship_armor_slot = ship_armor_shbb
                        front_1_custom_slot = ship_super_heavy_battery_1
                        front_2_custom_slot = ship_super_heavy_battery_1
                        mid_1_custom_slot = ship_anti_air_2
                        mid_2_custom_slot = ship_secondaries_2
                        mid_3_custom_slot = ship_anti_air_2
                        rear_1_custom_slot = ship_airplane_launcher_1
                        rear_2_custom_slot = ship_airplane_launcher_1
                    }
                }
            }
            add_equipment_production = {
                amount = 1
                progress = 0.33
                requested_factories = 5
                equipment = {
                    type = ship_hull_super_heavy_1
                    version_name = "Daybreak Class"
                    creator = EQS
                }
                name = "HMS Daybreak"
            }
        }
    }
    else = {
        if = {
            limit = { has_tech = heavy_battleship3 }
            create_equipment_variant = {
				name = "Daybreak Class"
				type = SH_battleship_3
				upgrades = {
					ship_gun_upgrade = 5
					ship_armor_upgrade = 3
					ship_anti_air_upgrade = 2
					ship_engine_upgrade = 2
					ship_reliability_upgrade = 3
				}
			}
			add_equipment_production = {
                amount = 1
                progress = 0.33
                requested_factories = 5
                equipment = {
                    type = SH_battleship_3
                    version_name = "Daybreak Class"
                    creator = EQS
                }
                name = "HMS Daybreak"
            }
        }
        else_if = {
            limit = { has_tech = heavy_battleship2 }
            create_equipment_variant = {
				name = "Daybreak Class"
				type = SH_battleship_2
				upgrades = {
					ship_gun_upgrade = 4
					ship_armor_upgrade = 3
					ship_anti_air_upgrade = 1
					ship_engine_upgrade = 2
					ship_reliability_upgrade = 3
				}
			}
			add_equipment_production = {
                amount = 1
                progress = 0.33
                requested_factories = 5
                equipment = {
                    type = SH_battleship_2
                    version_name = "Daybreak Class"
                    creator = EQS
                }
                name = "HMS Daybreak"
            }
        }
        else = {
            create_equipment_variant = {
				name = "Daybreak Class"
				type = SH_battleship_1
				upgrades = {
					ship_gun_upgrade = 3
					ship_armor_upgrade = 1
					ship_anti_air_upgrade = 1
					ship_engine_upgrade = 2
					ship_reliability_upgrade = 2
				}
			}
			add_equipment_production = {
                amount = 1
                progress = 0.33
                requested_factories = 5
                equipment = {
                    type = SH_battleship
                    version_name = "Daybreak Class"
                    creator = EQS
                }
                name = "HMS Daybreak"
            }
        }
    }
}
EQS_get_flagship_bc = {
    ###Daybreak, but less crazy###
    if = {
        limit = {
            has_dlc = "Man the Guns"
        }
        if = {
            limit = {
                has_tech = semi_modern_ship_hull_heavy
            }
            if = {
                limit = {
                    has_tech = antiair_c
                    has_tech = advanced_heavy_battery
                    has_tech = monopulse_radar
                    has_tech = semi_modern_fire_control_system
                    has_tech = improved_airplane_launcher
                }
                create_equipment_variant = {
                    name = "Daybreak Class"
                    type = ship_hull_heavy_5
                    name_group = SOL_BB_BC_HISTORICAL
                    parent_version = 0
                    modules = {
                        fixed_ship_battery_slot = ship_heavy_battery_4
                        fixed_ship_anti_air_slot = ship_anti_air_5
                        fixed_ship_fire_control_system_slot = ship_fire_control_system_4
                        fixed_ship_radar_slot = ship_radar_4
                        fixed_ship_engine_slot = heavy_ship_engine_5
                        fixed_ship_secondaries_slot = ship_secondaries_2
                        fixed_ship_armor_slot = ship_armor_bc_1
                        front_1_custom_slot = ship_anti_air_5
                        mid_1_custom_slot = ship_airplane_launcher_2
                        mid_2_custom_slot = ship_airplane_launcher_2
                        mid_3_custom_slot = ship_secondaries_2
                        rear_1_custom_slot = ship_heavy_battery_4
                    }
                }
            }
            else_if = {
                limit = {
                    has_tech = antiair4
                    has_tech = phased_array
                    has_tech = advanced_fire_control_system
                    has_tech = improved_airplane_launcher
                    has_tech = improved_heavy_battery
                }
                create_equipment_variant = {
                    name = "Daybreak Class"
                    type = ship_hull_heavy_5
                    name_group = SOL_BB_BC_HISTORICAL
                    parent_version = 0
                    modules = {
                        fixed_ship_battery_slot = ship_heavy_battery_3
                        fixed_ship_anti_air_slot = ship_anti_air_4
                        fixed_ship_fire_control_system_slot = ship_fire_control_system_3
                        fixed_ship_radar_slot = ship_radar_3
                        fixed_ship_engine_slot = heavy_ship_engine_5
                        fixed_ship_secondaries_slot = ship_secondaries_2
                        fixed_ship_armor_slot = ship_armor_bc_1
                        front_1_custom_slot = ship_anti_air_4
                        mid_1_custom_slot = ship_airplane_launcher_2
                        mid_2_custom_slot = ship_airplane_launcher_2
                        mid_3_custom_slot = ship_secondaries_2
                        rear_1_custom_slot = ship_heavy_battery_3
                    }
                }
            }
            else = {
                if = {
                    limit = { NOT = { has_tech = cavity_magnatron } }
                    set_technology = {
                        cavity_magnatron = 1
                        popup = no
                    }
                }
                create_equipment_variant = {
                    name = "Daybreak Class"
                    type = ship_hull_heavy_5
                    name_group = SOL_BB_BC_HISTORICAL
                    parent_version = 0
                    modules = {
                        fixed_ship_battery_slot = ship_heavy_battery_2
                        fixed_ship_anti_air_slot = ship_anti_air_2
                        fixed_ship_fire_control_system_slot = ship_fire_control_system_1
                        fixed_ship_radar_slot = ship_radar_2
                        fixed_ship_engine_slot = heavy_ship_engine_5
                        fixed_ship_secondaries_slot = ship_secondaries_2
                        fixed_ship_armor_slot = ship_armor_bc_1
                        front_1_custom_slot = ship_anti_air_2
                        mid_1_custom_slot = ship_airplane_launcher_1
                        mid_2_custom_slot = ship_airplane_launcher_1
                        mid_3_custom_slot = ship_secondaries_2
                        rear_1_custom_slot = ship_heavy_battery_2
                    }
                }
            }
            add_equipment_production = {
                amount = 1
                progress = 0.33
                requested_factories = 5
                equipment = {
                    type = ship_hull_heavy_5
                    version_name = "Daybreak Class"
                    creator = EQS
                }
                name = "HMS Daybreak"
            }
        }
        else_if = {
            limit = {
                has_tech = advanced_ship_hull_heavy
            }
            if = {
                limit = {
                    has_tech = antiair_c
                    has_tech = advanced_heavy_battery
                    has_tech = monopulse_radar
                    has_tech = semi_modern_fire_control_system
                    has_tech = improved_airplane_launcher
                }
                create_equipment_variant = {
                    name = "Daybreak Class"
                    type = ship_hull_heavy_4
                    name_group = SOL_BB_BC_HISTORICAL
                    parent_version = 0
                    modules = {
                        fixed_ship_battery_slot = ship_heavy_battery_4
                        fixed_ship_anti_air_slot = ship_anti_air_5
                        fixed_ship_fire_control_system_slot = ship_fire_control_system_4
                        fixed_ship_radar_slot = ship_radar_4
                        fixed_ship_engine_slot = heavy_ship_engine_5
                        fixed_ship_secondaries_slot = ship_secondaries_2
                        fixed_ship_armor_slot = ship_armor_bc_1
                        front_1_custom_slot = ship_anti_air_5
                        mid_1_custom_slot = ship_airplane_launcher_2
                        mid_2_custom_slot = ship_airplane_launcher_2
                        mid_3_custom_slot = ship_secondaries_2
                        rear_1_custom_slot = ship_heavy_battery_4
                    }
                }
            }
            else_if = {
                limit = {
                    has_tech = antiair4
                    has_tech = phased_array
                    has_tech = advanced_fire_control_system
                    has_tech = improved_airplane_launcher
                    has_tech = improved_heavy_battery
                }
                create_equipment_variant = {
                    name = "Daybreak Class"
                    type = ship_hull_heavy_4
                    name_group = SOL_BB_BC_HISTORICAL
                    parent_version = 0
                    modules = {
                        fixed_ship_battery_slot = ship_heavy_battery_3
                        fixed_ship_anti_air_slot = ship_anti_air_4
                        fixed_ship_fire_control_system_slot = ship_fire_control_system_3
                        fixed_ship_radar_slot = ship_radar_3
                        fixed_ship_engine_slot = heavy_ship_engine_5
                        fixed_ship_secondaries_slot = ship_secondaries_2
                        fixed_ship_armor_slot = ship_armor_bc_1
                        front_1_custom_slot = ship_anti_air_4
                        mid_1_custom_slot = ship_airplane_launcher_2
                        mid_2_custom_slot = ship_airplane_launcher_2
                        mid_3_custom_slot = ship_secondaries_2
                        rear_1_custom_slot = ship_heavy_battery_3
                    }
                }
            }
            else = {
                if = {
                    limit = { NOT = { has_tech = cavity_magnatron } }
                    set_technology = {
                        cavity_magnatron = 1
                        popup = no
                    }
                }
                create_equipment_variant = {
                    name = "Daybreak Class"
                    type = ship_hull_heavy_4
                    name_group = SOL_BB_BC_HISTORICAL
                    parent_version = 0
                    modules = {
                        fixed_ship_battery_slot = ship_heavy_battery_2
                        fixed_ship_anti_air_slot = ship_anti_air_2
                        fixed_ship_fire_control_system_slot = ship_fire_control_system_1
                        fixed_ship_radar_slot = ship_radar_2
                        fixed_ship_engine_slot = heavy_ship_engine_5
                        fixed_ship_secondaries_slot = ship_secondaries_2
                        fixed_ship_armor_slot = ship_armor_bc_1
                        front_1_custom_slot = ship_anti_air_2
                        mid_1_custom_slot = ship_airplane_launcher_1
                        mid_2_custom_slot = ship_airplane_launcher_1
                        mid_3_custom_slot = ship_secondaries_2
                        rear_1_custom_slot = ship_heavy_battery_2
                    }
                }
            }
            add_equipment_production = {
                amount = 1
                progress = 0.33
                requested_factories = 5
                equipment = {
                    type = ship_hull_heavy_4
                    version_name = "Daybreak Class"
                    creator = EQS
                }
                name = "HMS Daybreak"
            }
        }
        else = {
            if = {
                limit = {
                    has_tech = antiair4
                    has_tech = phased_array
                    has_tech = advanced_fire_control_system
                    has_tech = improved_airplane_launcher
                    has_tech = improved_heavy_battery
                }
                create_equipment_variant = {
                    name = "Daybreak Class"
                    type = ship_hull_heavy_3
                    name_group = SOL_BB_BC_HISTORICAL
                    parent_version = 0
                    modules = {
                        fixed_ship_battery_slot = ship_heavy_battery_3
                        fixed_ship_anti_air_slot = ship_anti_air_4
                        fixed_ship_fire_control_system_slot = ship_fire_control_system_3
                        fixed_ship_radar_slot = ship_radar_3
                        fixed_ship_engine_slot = heavy_ship_engine_5
                        fixed_ship_secondaries_slot = ship_secondaries_2
                        fixed_ship_armor_slot = ship_armor_bc_1
                        front_1_custom_slot = ship_anti_air_4
                        mid_1_custom_slot = ship_airplane_launcher_2
                        mid_2_custom_slot = ship_airplane_launcher_2
                        mid_3_custom_slot = ship_secondaries_2
                        rear_1_custom_slot = ship_heavy_battery_3
                    }
                }
            }
            else = {
                if = {
                    limit = { NOT = { has_tech = cavity_magnatron } }
                    set_technology = {
                        cavity_magnatron = 1
                        popup = no
                    }
                }
                create_equipment_variant = {
                    name = "Daybreak Class"
                    type = ship_hull_heavy_3
                    name_group = SOL_BB_BC_HISTORICAL
                    parent_version = 0
                    modules = {
                        fixed_ship_battery_slot = ship_heavy_battery_2
                        fixed_ship_anti_air_slot = ship_anti_air_2
                        fixed_ship_fire_control_system_slot = ship_fire_control_system_1
                        fixed_ship_radar_slot = ship_radar_2
                        fixed_ship_engine_slot = heavy_ship_engine_5
                        fixed_ship_secondaries_slot = ship_secondaries_2
                        fixed_ship_armor_slot = ship_armor_bc_1
                        front_1_custom_slot = ship_anti_air_2
                        mid_1_custom_slot = ship_airplane_launcher_1
                        mid_2_custom_slot = ship_airplane_launcher_1
                        mid_3_custom_slot = ship_secondaries_2
                        rear_1_custom_slot = ship_heavy_battery_2
                    }
                }
            }
            add_equipment_production = {
                amount = 1
                progress = 0.33
                requested_factories = 5
                equipment = {
                    type = ship_hull_heavy_4
                    version_name = "Daybreak Class"
                    creator = EQS
                }
                name = "HMS Daybreak"
            }
        }
    }
    else = {
        if = {
            limit = { has_tech = improved_battlecruiser }
            create_equipment_variant = {
				name = "Daybreak Class"
				type = battle_cruiser_3
				upgrades = {
					ship_gun_upgrade = 1
					ship_armor_upgrade = 3
					ship_anti_air_upgrade = 1
					ship_engine_upgrade = 5
					ship_reliability_upgrade = 2
				}
			}
			add_equipment_production = {
                amount = 1
                progress = 0.33
                requested_factories = 5
                equipment = {
                    type = battle_cruiser_3
                    version_name = "Daybreak Class"
                    creator = EQS
                }
                name = "HMS Daybreak"
            }
        }
        else = {
            create_equipment_variant = {
				name = "Daybreak Class"
				type = battle_cruiser_2
				upgrades = {
					ship_gun_upgrade = 1
					ship_armor_upgrade = 1
					ship_anti_air_upgrade = 1
					ship_engine_upgrade = 4
					ship_reliability_upgrade = 2
				}
			}
			add_equipment_production = {
                amount = 1
                progress = 0.33
                requested_factories = 5
                equipment = {
                    type = battle_cruiser_2
                    version_name = "Daybreak Class"
                    creator = EQS
                }
                name = "HMS Daybreak"
            }
        }
    }
}
EQS_get_flagship_cv = {
    ###Daybreak, but less crazy###
    if = {
        limit = {
            has_dlc = "Man the Guns"
        }
        if = {
            limit = {
                has_tech = semi_modern_ship_hull_carrier
            }
            if = {
                limit = {
                    has_tech = antiair_c
                    has_tech = monopulse_radar
                }
                create_equipment_variant = {
                    name = "Daybreak Class"
                    type = ship_hull_carrier_4
                    name_group = SOL_CV_HISTORICAL
                    parent_version = 0
                    modules = {
                        fixed_ship_deck_slot_1 = ship_deck_space
                        fixed_ship_deck_slot_2 = ship_deck_space
                        fixed_ship_anti_air_slot = ship_anti_air_5
                        fixed_ship_radar_slot = ship_radar_4
                        fixed_ship_engine_slot = carrier_ship_engine_5
                        fixed_ship_secondaries_slot = ship_secondaries_2
                        fixed_ship_armor_slot = empty
                        front_1_custom_slot = ship_deck_space
                        mid_1_custom_slot = ship_deck_space
                        mid_2_custom_slot = ship_deck_space
                        mid_3_custom_slot = ship_deck_space
                        rear_1_custom_slot = ship_deck_space

                    }
                }
            }
            else_if = {
                limit = {
                    has_tech = antiair4
                    has_tech = phased_array
                }
                create_equipment_variant = {
                    name = "Daybreak Class"
                    type = ship_hull_carrier_4
                    name_group = SOL_CV_HISTORICAL
                    parent_version = 0
                    modules = {
                        fixed_ship_deck_slot_1 = ship_deck_space
                        fixed_ship_deck_slot_2 = ship_deck_space
                        fixed_ship_anti_air_slot = ship_anti_air_4
                        fixed_ship_radar_slot = ship_radar_3
                        fixed_ship_engine_slot = carrier_ship_engine_5
                        fixed_ship_secondaries_slot = ship_secondaries_2
                        fixed_ship_armor_slot = empty
                        front_1_custom_slot = ship_deck_space
                        mid_1_custom_slot = ship_deck_space
                        mid_2_custom_slot = ship_deck_space
                        mid_3_custom_slot = ship_deck_space
                        rear_1_custom_slot = ship_deck_space

                    }
                }
            }
            else = {
                if = {
                    limit = { NOT = { has_tech = cavity_magnatron } }
                    set_technology = {
                        cavity_magnatron = 1
                        popup = no
                    }
                }
                create_equipment_variant = {
                    name = "Daybreak Class"
                    type = ship_hull_carrier_4
                    name_group = SOL_CV_HISTORICAL
                    parent_version = 0
                    modules = {
                        fixed_ship_deck_slot_1 = ship_deck_space
                        fixed_ship_deck_slot_2 = ship_deck_space
                        fixed_ship_anti_air_slot = ship_anti_air_2
                        fixed_ship_radar_slot = ship_radar_2
                        fixed_ship_engine_slot = carrier_ship_engine_5
                        fixed_ship_secondaries_slot = ship_secondaries_2
                        fixed_ship_armor_slot = empty
                        front_1_custom_slot = ship_deck_space
                        mid_1_custom_slot = ship_deck_space
                        mid_2_custom_slot = ship_deck_space
                        mid_3_custom_slot = ship_deck_space
                        rear_1_custom_slot = ship_deck_space

                    }
                }
            }
            add_equipment_production = {
                amount = 1
                progress = 0.33
                requested_factories = 5
                equipment = {
                    type = ship_hull_carrier_4
                    version_name = "Daybreak Class"
                    creator = EQS
                }
                name = "HMS Daybreak"
            }
        }
        else_if = {
            limit = {
                has_tech = advanced_ship_hull_carrier
            }
            if = {
                limit = {
                    has_tech = antiair_c
                    has_tech = monopulse_radar
                }
                create_equipment_variant = {
                    name = "Daybreak Class"
                    type = ship_hull_carrier_3
                    name_group = SOL_CV_HISTORICAL
                    parent_version = 0
                    modules = {
                        fixed_ship_deck_slot_1 = ship_deck_space
                        fixed_ship_deck_slot_2 = ship_deck_space
                        fixed_ship_anti_air_slot = ship_anti_air_5
                        fixed_ship_radar_slot = ship_radar_4
                        fixed_ship_engine_slot = carrier_ship_engine_4
                        fixed_ship_secondaries_slot = ship_secondaries_2
                        fixed_ship_armor_slot = empty
                        front_1_custom_slot = ship_deck_space
                        mid_1_custom_slot = ship_deck_space
                        mid_2_custom_slot = ship_deck_space
                        rear_1_custom_slot = ship_deck_space

                    }
                }
            }
            else_if = {
                limit = {
                    has_tech = antiair4
                    has_tech = phased_array
                }
                create_equipment_variant = {
                    name = "Daybreak Class"
                    type = ship_hull_carrier_3
                    name_group = SOL_CV_HISTORICAL
                    parent_version = 0
                    modules = {
                        fixed_ship_deck_slot_1 = ship_deck_space
                        fixed_ship_deck_slot_2 = ship_deck_space
                        fixed_ship_anti_air_slot = ship_anti_air_4
                        fixed_ship_radar_slot = ship_radar_3
                        fixed_ship_engine_slot = carrier_ship_engine_4
                        fixed_ship_secondaries_slot = ship_secondaries_2
                        fixed_ship_armor_slot = empty
                        front_1_custom_slot = ship_deck_space
                        mid_1_custom_slot = ship_deck_space
                        mid_2_custom_slot = ship_deck_space
                        rear_1_custom_slot = ship_deck_space

                    }
                }
            }
            else = {
                if = {
                    limit = { NOT = { has_tech = cavity_magnatron } }
                    set_technology = {
                        cavity_magnatron = 1
                        popup = no
                    }
                }
                create_equipment_variant = {
                    name = "Daybreak Class"
                    type = ship_hull_carrier_3
                    name_group = SOL_CV_HISTORICAL
                    parent_version = 0
                    modules = {
                        fixed_ship_deck_slot_1 = ship_deck_space
                        fixed_ship_deck_slot_2 = ship_deck_space
                        fixed_ship_anti_air_slot = ship_anti_air_5
                        fixed_ship_radar_slot = ship_radar_4
                        fixed_ship_engine_slot = carrier_ship_engine_4
                        fixed_ship_secondaries_slot = ship_secondaries_2
                        fixed_ship_armor_slot = empty
                        front_1_custom_slot = ship_deck_space
                        mid_1_custom_slot = ship_deck_space
                        mid_2_custom_slot = ship_deck_space
                        rear_1_custom_slot = ship_deck_space

                    }
                }
            }
            add_equipment_production = {
                amount = 1
                progress = 0.33
                requested_factories = 5
                equipment = {
                    type = ship_hull_carrier_3
                    version_name = "Daybreak Class"
                    creator = EQS
                }
                name = "HMS Daybreak"
            }
        }
        else = {
            if = {
                limit = {
                    has_tech = antiair4
                    has_tech = phased_array
                }
                create_equipment_variant = {
                    name = "Daybreak Class"
                    type = ship_hull_carrier_2
                    name_group = SOL_CV_HISTORICAL
                    parent_version = 0
                    modules = {
                        fixed_ship_deck_slot_1 = ship_deck_space
                        fixed_ship_deck_slot_2 = ship_deck_space
                        fixed_ship_anti_air_slot = ship_anti_air_4
                        fixed_ship_radar_slot = ship_radar_3
                        fixed_ship_engine_slot = carrier_ship_engine_3
                        fixed_ship_secondaries_slot = ship_secondaries_2
                        fixed_ship_armor_slot = empty
                        front_1_custom_slot = ship_deck_space
                        mid_1_custom_slot = ship_deck_space
                        mid_2_custom_slot = ship_deck_space

                    }
                }
            }
            else = {
                if = {
                    limit = { NOT = { has_tech = cavity_magnatron } }
                    set_technology = {
                        cavity_magnatron = 1
                        popup = no
                    }
                }
                create_equipment_variant = {
                    name = "Daybreak Class"
                    type = ship_hull_carrier_2
                    name_group = SOL_CV_HISTORICAL
                    parent_version = 0
                    modules = {
                        fixed_ship_deck_slot_1 = ship_deck_space
                        fixed_ship_deck_slot_2 = ship_deck_space
                        fixed_ship_anti_air_slot = ship_anti_air_2
                        fixed_ship_radar_slot = ship_radar_2
                        fixed_ship_engine_slot = carrier_ship_engine_3
                        fixed_ship_secondaries_slot = ship_secondaries_2
                        fixed_ship_armor_slot = empty
                        front_1_custom_slot = ship_deck_space
                        mid_1_custom_slot = ship_deck_space
                        mid_2_custom_slot = ship_deck_space

                    }
                }
            }
            add_equipment_production = {
                amount = 1
                progress = 0.33
                requested_factories = 5
                equipment = {
                    type = ship_hull_carrier_2
                    version_name = "Daybreak Class"
                    creator = EQS
                }
                name = "HMS Daybreak"
            }
        }
    }
    else = {
        if = {
            limit = { has_tech = semi_modern_carrier }
            create_equipment_variant = {
				name = "Daybreak Class"
				type = carrier_5
				upgrades = {
					ship_deckspace_upgrade = 5
					carrier_armor_upgrade = 1
					ship_engine_upgrade = 1
					ship_reliability_upgrade = 3
				}
			}
			add_equipment_production = {
                amount = 1
                progress = 0.33
                requested_factories = 5
                equipment = {
                    type = carrier_5
                    version_name = "Daybreak Class"
                    creator = EQS
                }
                name = "HMS Daybreak"
            }
        }
        else_if = {
            limit = { has_tech = advanced_carrier }
            create_equipment_variant = {
				name = "Daybreak Class"
				type = carrier_4
				upgrades = {
					ship_deckspace_upgrade = 4
					carrier_armor_upgrade = 1
					ship_engine_upgrade = 0
					ship_reliability_upgrade = 2
				}
			}
			add_equipment_production = {
                amount = 1
                progress = 0.33
                requested_factories = 5
                equipment = {
                    type = carrier_4
                    version_name = "Daybreak Class"
                    creator = EQS
                }
                name = "HMS Daybreak"
            }
        }
        else = {
            create_equipment_variant = {
				name = "Daybreak Class"
				type = carrier_3
				upgrades = {
					ship_deckspace_upgrade = 3
					carrier_armor_upgrade = 0
					ship_engine_upgrade = 0
					ship_reliability_upgrade = 1
				}
			}
			add_equipment_production = {
                amount = 1
                progress = 0.33
                requested_factories = 5
                equipment = {
                    type = carrier_3
                    version_name = "Daybreak Class"
                    creator = EQS
                }
                name = "HMS Daybreak"
            }
        }
    }
}
