add_namespace = solarreworked
add_namespace = solar_god_empress
add_namespace = solar_self
add_namespace = solar_fallen_hero

country_event = { #Daybreaker meets with Neighsay, whom she has summoned in order to discuss how to best adjust the curriculum of the EEA, since it needs to be updated to proper, Imperial standards, and she threatens him with defunding if he doesn't comply, which eventually breaks him.
    id = solarreworked.40
    title = solarreworked.40.t
    desc = solarreworked.40.d
    picture = GFX_event_canterlot
    immediate = {log = "[GetDateText]: [ROOT.GetName]: event solarreworked.40"}

    is_triggered_only = yes

    option = { #Good pet.
        name = solarreworked.40.a
        #Idea here
    }
}

###BoP###
country_event = {
    id = solarreworked.50
    title = solarreworked.50.t
    desc = solarreworked.50.d
    picture = GFX_event_palace_hall
    immediate = {log = "[GetDateText]: [ROOT.GetName]: event solarreworked.50"}

    is_triggered_only = yes

    option = {
        name = solarreworked.50.a
        add_power_balance_value = {
            id = EQS_sanity_bop
            value = 0.2
            tooltip_side = EQS_npc
        }
    }
}

country_event = {
    id = solarreworked.51
    title = solarreworked.51.t
    desc = solarreworked.51.d
    picture = GFX_event_luna_castle
    immediate = {log = "[GetDateText]: [ROOT.GetName]: event solarreworked.51"}

    is_triggered_only = yes

    option = {
        name = solarreworked.51.a
        add_power_balance_value = {
            id = EQS_sanity_bop
            value = -0.2
            tooltip_side = EQS_woke
        }
    }
}

country_event = { #Luna barges into Celestia's chambers demanding to know why she declared war on the Buffalo, since they are basically defenseless, and Celestia has no real answer, other than she feels like she was being controlled by somepony else, and she begins to break down, and Luna suggests that they make peace with BUF, even if it is still a stain on their global record
    id = solarreworked.52
    title = solarreworked.52.t
    desc = solarreworked.52.d
    picture = GFX_event_celestia_theme
    immediate = {log = "[GetDateText]: [ROOT.GetName]: event solarreworked.52"}

    is_triggered_only = yes

    option = { #Yes, I must fix this.
        name = solarreworked.52.a
        custom_effect_tooltip = SOL_why_friends_tt
        white_peace = BUF
        add_political_power = -100
        if = {
            limit = {
                NOT = { has_completed_focus = eqs_buffalo2 }
                unlock_national_focus = eqs_buffalo2
            }
        }
    }
    option = { #I... cannot go against previous orders.
        name = solarreworked.52.b
        custom_effect_tooltip = SOL_you_idiot_tt
        set_country_flag = EQS_chewed_out_by_luna
        add_stability = -0.2
        add_war_support = -0.1
        add_popularity = {
            ideology = fascism
            popularity = 0.05
        }
        add_power_balance_value = {
            id = EQS_sanity_bop
            value = -0.05
            tooltip_side = EQS_woke
        }
    }
}

###Internal affairs###
country_event = { #Jet Set is completley surprised when a formation of Imperial ships comes to New Mareland, and hastily gets to the piers so that he can meet whoever the delegate is, who is Arcane Nova, and she and him have a tense confrontation before she states that she will be the one looking over him, to make sure that he is truly loyal.
    id = solarreworked.70
    title = solarreworked.70.t
    desc = solarreworked.70.d
    picture = GFX_event_solarempire
    immediate = {log = "[GetDateText]: [ROOT.GetName]: event solarreworked.70"}

    is_triggered_only = yes

    option = { #I would never!
        name = solarreworked.70.a
        EQS = {
            EQS_SOL_arcane_nova = { set_nationality = EQC }
        }
    }
}

###Flavour###
country_event = { #Daybreaker visit's Fluttershy's family, as Zephyr Breeze has been drafted into the military, but he has been dodging it wherever he could, and after a bit of a tense meeting in the library, she basically forces him into the military, as he is an example because he's Fluttershy's brother, and she will not have herself be defied again
    id = solarreworked.100
    title = solarreworked.100.t
    desc = solarreworked.100.d
    immediate = {log = "[GetDateText]: [ROOT.GetName]: event solarreworked.100"}

    is_triggered_only = yes

    option = { #Nopony defies me!
        name = solarreworked.100.a
        hidden_effect = {
            country_event = {
                id = solarreworked.101
                days = 84
                random_days = 14
            }
        }
    }
}

country_event = { #Zephyr does his best to avoid combat as it breaks out in his unit, and he finds his way into his general's quarters, which gives him an idea of escape, but he is found before he can flee, but mistaken for his general instead, and brought to help with leading an orderly regrouping, which he isn't happy about
    id = solarreworked.101
    title = solarreworked.101.t
    desc = solarreworked.101.d
    immediate = {log = "[GetDateText]: [ROOT.GetName]: event solarreworked.101"}

    is_triggered_only = yes

    option = { #This is my life, apparently
        name = solarreworked.101.a
        custom_effect_tooltip = zephyr_breeze_stats_tt
        EQS_zephyr_breeze = {
            set_character_flag = SOL_zephyr_enlisted
        }
        hidden_effect = {
            country_event = {
                id = solarreworked.102
                days = 70
                random_days = 35
            }
        }
    }
}

country_event = { #Zephyr kicks back in his office that he now has as a general, and he is interrupted by both his aide, and then later, the general himself, as he wasn't killed in combat like thought, just injured, and Zephyr flees before he can be court martialed
    id = solarreworked.102
    title = solarreworked.102.t
    desc = solarreworked.102.d
    immediate = {log = "[GetDateText]: [ROOT.GetName]: event solarreworked.102"}

    is_triggered_only = yes

    option = { #Buck! Buck! Buck!
        name = solarreworked.102.a
        hidden_effect = {
            EQS_zephyr_breeze = {
                set_nationality = CRY
                clr_character_flag = SOL_zephyr_enlisted
            }
            CRY = {
                country_event = {
                    id = solarreworked.103
                    days = 10
                    random_days = 4
                }
            }
        }
    }
}

country_event = { #Zephyr flees to the Crystal Empire, and he runs across a sole soldier patrolling the border between a small town and the desolate wastes of Equestria, and he is caught by her, and questioned a bit, where he pretends that he is definitely a super important officer and that the Solar Empire is probably searching for him as they speak, and she takes him back, to be used to provide intel
    id = solarreworked.103
    title = solarreworked.103.t
    desc = solarreworked.103.d
    immediate = {log = "[GetDateText]: [ROOT.GetName]: event solarreworked.103"}

    is_triggered_only = yes

    option = { #Oh no.
        name = solarreworked.103.a
        hidden_effect = {
            EQS_zephyr_breeze = {
                set_character_flag = SOL_zephyr_enlisted
            }
        }
    }
}

country_event = { #Zephyr gets interrogated by a CRY officer since he says he has important information on SOL, but when grilled, he has no idea about what any of it means, and he makes a dart for a window to escape again, and is back on the run
    id = solarreworked.104
    title = solarreworked.104.t
    desc = solarreworked.104.d
    immediate = {log = "[GetDateText]: [ROOT.GetName]: event solarreworked.104"}

    is_triggered_only = yes

    option = { #Crap! Crap! Crap!
        name = solarreworked.104.a
        hidden_effect = {
            EQS_zephyr_breeze = {
                clr_character_flag = SOL_zephyr_enlisted
                set_nationality = STG
            }
            STG = {
                country_event = {
                    id = solarreworked.105
                    days = 21
                    random_days = 7
                }
            }
        }
    }
}

country_event = { #Zephyr is grabbed by a Stalliongrad patrol and taken into custody, where is held until he is grilled by the officer who commands the outpost, and he basically makes it sound like he is a big deal in CRY, and that he could totally help out there, since he's being chased, and he gets taken up on that
    id = solarreworked.105
    title = solarreworked.105.t
    desc = solarreworked.105.d
    immediate = {log = "[GetDateText]: [ROOT.GetName]: event solarreworked.105"}

    is_triggered_only = yes

    option = { #Da, comrade.
        name = solarreworked.105.a
        hidden_effect = {
            EQS_zephyr_breeze = {
                set_character_flag = SOL_zephyr_enlisted
            }
        }
    }
}

country_event = { #Zephyr has integrated into a STG officer corps, and decides to tell some bad joke about Steel Stallion and Caramel Marks, which instantly offends every single officer in the building while he eats, and he soon gets everypony on him, since he is already a capitalist pig and now is making overt fun of the greatest ponies in the world
    id = solarreworked.106
    title = solarreworked.106.t
    desc = solarreworked.106.d
    immediate = {log = "[GetDateText]: [ROOT.GetName]: event solarreworked.106"}

    is_triggered_only = yes

    option = { #Damn! Damn! Damn!
        name = solarreworked.106.a
        hidden_effect = {
            EQS_zephyr_breeze = {
                clr_character_flag = SOL_zephyr_enlisted
                set_nationality = EQC
            }
        }
    }
}

country_event = {
    id = solarreworked.113
    title = solarreworked.113.t
    desc = solarreworked.113.d
    immediate = {log = "[GetDateText]: [ROOT.GetName]: event solarreworked.113"}

    is_triggered_only = yes

    option = { #Wait, who was he again?
        name = solarreworked.113.a
        set_country_flag = SOL_prodigal_pegasus_found
    }
}

country_event = { #Daybreaker marches and enters into the chambers of Grover, who believes that she has come to kill him, since he is an important griffon, and she quickly corrects him, since she has no desire to do that, and rather rear him into a better emperor than either regent could have done
    id = solarreworked.120
    title = solarreworked.120.t
    desc = solarreworked.120.d
    picture = GFX_event_solarempire
    immediate = {log = "[GetDateText]: [ROOT.GetName]: event solarreworked.120"}

    is_triggered_only = yes

    option = { #I shall watch the Empire in your stead.
        name = solarreworked.120.a
        if = {
			limit = {
				GRD = { NOT = { tag = GRI } }
				random_country = {
					limit = {
						has_character = GRI_daybreaker
					}
					GRI_daybreaker = {
						set_nationality = GRD
					}
				}
			}
		}
		GRD = {
			if = {
				limit = { NOT = { has_government = fascism } }
				set_politics = {
					ruling_party = fascism
					elections_allowed = no
				}
			}
			if = {
				limit = { ROOT = { has_completed_focus = SOL_god_empress } }
				GRI_daybreaker = {
					add_country_leader_role = {
						promote_leader = yes
						country_leader = {
							ideology = falangism
							expire = "1965.1.1"
							traits = { aussenseiter_regentin }
						}
					}
				}
				set_party_name = {
					ideology = fascism
					name = EQS_solaris_cultus
					long_name = EQS_solaris_cultus
				}
			}
			else = {
				GRI_daybreaker = {
					add_country_leader_role = {
						promote_leader = yes
						country_leader = {
							ideology = nazism
							expire = "1965.1.1"
							traits = { aussenseiter_regentin }
						}
					}
				}
				set_party_name = {
					ideology = fascism
					name = EQS_fascism_party
					long_name = EQS_fascism_party
				}
			}
		}
    }
}

country_event = { #Daybreaker smugly walks through Griffonstone, in a parade with griffons and ponies, as she goes toward the coronation hall, and soon usurps the crown from Grover and the regent, and declares herself the new kaiser of the griffons
    id = solarreworked.121
    title = solarreworked.121.t
    desc = solarreworked.121.d
    picture = GFX_event_solarempire
    immediate = {log = "[GetDateText]: [ROOT.GetName]: event solarreworked.121"}

    is_triggered_only = yes

    option = { #Kneel for your new Empress!
        name = solarreworked.121.a
        if = {
			limit = {
				GRD = { NOT = { tag = GRI } }
				random_country = {
					limit = {
						has_character = GRI_daybreaker
					}
					GRI_daybreaker = {
						set_nationality = GRD
					}
				}
			}
		}
		GRD = {
			if = {
				limit = { NOT = { has_government = fascism } }
				set_politics = {
					ruling_party = fascism
					elections_allowed = no
				}
			}
			if = {
				limit = { ROOT = { has_completed_focus = SOL_god_empress } }
				GRI_daybreaker = {
					add_country_leader_role = {
						promote_leader = yes
						country_leader = {
							ideology = falangism
							expire = "1965.1.1"
							traits = { die_kaiserin_der_greifen }
						}
					}
				}
				set_party_name = {
					ideology = fascism
					name = EQS_solaris_cultus
					long_name = EQS_solaris_cultus
				}
			}
			else = {
				GRI_daybreaker = {
					add_country_leader_role = {
						promote_leader = yes
						country_leader = {
							ideology = nazism
							expire = "1965.1.1"
							traits = { die_kaiserin_der_greifen }
						}
					}
				}
				set_party_name = {
					ideology = fascism
					name = EQS_fascism_party
					long_name = EQS_fascism_party
				}
			}
		}
    }
}

country_event = { #Daybreaker has one of her first longer meetings with Grover, who is not really interested in eating, and she demands that he does, and they get into a small argument about why she is keeping him alive, before transitioning to her teaching him lessons on how to be an emperor, which starts with then and there with a test on how to pronounce judgement on criminals
    id = solarreworked.122
    title = solarreworked.122.t
    desc = solarreworked.122.d
    picture = GFX_event_solarempire
    immediate = {log = "[GetDateText]: [ROOT.GetName]: event solarreworked.122"}

    is_triggered_only = yes

    option = { #Much to learn, you still have.
        name = solarreworked.122.a
    }
}

country_event = { #Grover is overly grumpy as he is made to have an official, annual portrait of him with his regent, which means that he is now with Daybreaker, and he is far from happy that he has to be around her, and they get into a tiny bit of a verbal spat as the photographer prepares to take a picture of them both, which they both are clearly not wanting to do
    id = solarreworked.124
    title = solarreworked.124.t
    desc = solarreworked.124.d
    picture = GFX_event_griffenheim
    immediate = {log = "[GetDateText]: [ROOT.GetName]: event solarreworked.124"}

    is_triggered_only = yes

    option = { #There's always next year.
        name = solarreworked.124.a
        #Trigger following portrait a year later
    }
}

country_event = {
    id = solarreworked.130
    title = solarreworked.130.t
    desc = solarreworked.130.d
    picture = GFX_event_angy_daybreaker
    immediate = {log = "[GetDateText]: [ROOT.GetName]: event solarreworked.130"}

    is_triggered_only = yes

    option = { #They will be nothing but ash!
        name = solarreworked.130.a
        set_country_flag = SOL_supernova_seen
    }
}
